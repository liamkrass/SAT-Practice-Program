{"ast":null,"code":"\"use client\";\n\n// src/react/index.tsx\nimport _objectSpread from \"/Users/liamkrass/Documents/satProjectV2/sat-practice-app-1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useEffect, useRef } from \"react\";\n\n// package.json\nvar name = \"@vercel/speed-insights\";\nvar version = \"1.2.0\";\n\n// src/queue.ts\nvar initQueue = () => {\n  if (window.si) return;\n  window.si = function a() {\n    for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n      params[_key] = arguments[_key];\n    }\n    (window.siq = window.siq || []).push(params);\n  };\n};\n\n// src/utils.ts\nfunction isBrowser() {\n  return typeof window !== \"undefined\";\n}\nfunction detectEnvironment() {\n  try {\n    const env = process.env.NODE_ENV;\n    if (env === \"development\" || env === \"test\") {\n      return \"development\";\n    }\n  } catch (e) {}\n  return \"production\";\n}\nfunction isDevelopment() {\n  return detectEnvironment() === \"development\";\n}\nfunction computeRoute(pathname, pathParams) {\n  if (!pathname || !pathParams) {\n    return pathname;\n  }\n  let result = pathname;\n  try {\n    const entries = Object.entries(pathParams);\n    for (const [key, value] of entries) {\n      if (!Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value);\n        if (matcher.test(result)) {\n          result = result.replace(matcher, \"/[\".concat(key, \"]\"));\n        }\n      }\n    }\n    for (const [key, value] of entries) {\n      if (Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value.join(\"/\"));\n        if (matcher.test(result)) {\n          result = result.replace(matcher, \"/[...\".concat(key, \"]\"));\n        }\n      }\n    }\n    return result;\n  } catch (e) {\n    return pathname;\n  }\n}\nfunction turnValueToRegExp(value) {\n  return new RegExp(\"/\".concat(escapeRegExp(value), \"(?=[/?#]|$)\"));\n}\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction getScriptSrc(props) {\n  if (props.scriptSrc) {\n    return props.scriptSrc;\n  }\n  if (isDevelopment()) {\n    return \"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js\";\n  }\n  if (props.dsn) {\n    return \"https://va.vercel-scripts.com/v1/speed-insights/script.js\";\n  }\n  if (props.basePath) {\n    return \"\".concat(props.basePath, \"/speed-insights/script.js\");\n  }\n  return \"/_vercel/speed-insights/script.js\";\n}\n\n// src/generic.ts\nfunction injectSpeedInsights() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _a;\n  if (!isBrowser() || props.route === null) return null;\n  initQueue();\n  const src = getScriptSrc(props);\n  if (document.head.querySelector(\"script[src*=\\\"\".concat(src, \"\\\"]\"))) return null;\n  if (props.beforeSend) {\n    (_a = window.si) == null ? void 0 : _a.call(window, \"beforeSend\", props.beforeSend);\n  }\n  const script = document.createElement(\"script\");\n  script.src = src;\n  script.defer = true;\n  script.dataset.sdkn = name + (props.framework ? \"/\".concat(props.framework) : \"\");\n  script.dataset.sdkv = version;\n  if (props.sampleRate) {\n    script.dataset.sampleRate = props.sampleRate.toString();\n  }\n  if (props.route) {\n    script.dataset.route = props.route;\n  }\n  if (props.endpoint) {\n    script.dataset.endpoint = props.endpoint;\n  } else if (props.basePath) {\n    script.dataset.endpoint = \"\".concat(props.basePath, \"/speed-insights/vitals\");\n  }\n  if (props.dsn) {\n    script.dataset.dsn = props.dsn;\n  }\n  if (isDevelopment() && props.debug === false) {\n    script.dataset.debug = \"false\";\n  }\n  script.onerror = () => {\n    console.log(\"[Vercel Speed Insights] Failed to load script from \".concat(src, \". Please check if any content blockers are enabled and try again.\"));\n  };\n  document.head.appendChild(script);\n  return {\n    setRoute: route => {\n      script.dataset.route = route !== null && route !== void 0 ? route : void 0;\n    }\n  };\n}\n\n// src/react/utils.ts\nfunction getBasePath() {\n  if (typeof process === \"undefined\" || typeof process.env === \"undefined\") {\n    return void 0;\n  }\n  return process.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH;\n}\n\n// src/react/index.tsx\nfunction SpeedInsights(props) {\n  useEffect(() => {\n    var _a;\n    if (props.beforeSend) {\n      (_a = window.si) == null ? void 0 : _a.call(window, \"beforeSend\", props.beforeSend);\n    }\n  }, [props.beforeSend]);\n  const setScriptRoute = useRef(null);\n  useEffect(() => {\n    if (!setScriptRoute.current) {\n      var _props$framework, _props$basePath;\n      const script = injectSpeedInsights(_objectSpread({\n        framework: (_props$framework = props.framework) !== null && _props$framework !== void 0 ? _props$framework : \"react\",\n        basePath: (_props$basePath = props.basePath) !== null && _props$basePath !== void 0 ? _props$basePath : getBasePath()\n      }, props));\n      if (script) {\n        setScriptRoute.current = script.setRoute;\n      }\n    } else if (props.route) {\n      setScriptRoute.current(props.route);\n    }\n  }, [props.route]);\n  return null;\n}\nexport { SpeedInsights, computeRoute };","map":null,"metadata":{},"sourceType":"module"}