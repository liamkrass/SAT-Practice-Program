{"ast":null,"code":"import _objectSpread from\"/Users/liamkrass/Documents/satProjectV2/sat-practice-app-1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{typography,applyTypography,textColors}from'../styles/typography';import{formatMoney,roundMoney,addMoney,subtractMoney,multiplyMoney,parseMoneyInput,sanitizeMoney}from'../utils/money';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Player-favorable payout tables with slight edge (RTP ~102-105%)\nconst PAYOUT_TABLES={low:{8:[6.0,2.3,1.2,1.1,0.6,1.1,1.2,2.3,6.0],9:[6.0,2.2,1.7,1.1,0.8,0.8,1.1,1.7,2.2,6.0],10:[9.5,3.2,1.5,1.2,1.1,0.6,1.1,1.2,1.5,3.2,9.5],11:[9.0,3.2,2.0,1.4,1.1,0.8,0.8,1.1,1.4,2.0,3.2,9.0],12:[10.5,4.2,2.1,1.5,1.2,1.1,0.6,1.1,1.2,1.5,2.1,4.2,10.5],13:[8.5,4.2,3.1,2.0,1.3,1.0,0.8,0.8,1.0,1.3,2.0,3.1,4.2,8.5],14:[16.0,5.3,2.7,1.7,1.3,1.1,0.9,0.6,0.9,1.1,1.3,1.7,2.7,5.3,16.0],15:[16.0,8.5,3.2,2.1,1.6,1.2,1.1,0.6,0.6,1.1,1.2,1.6,2.1,3.2,8.5,16.0],16:[21.0,6.3,3.2,2.1,1.5,1.2,1.0,0.8,0.6,0.8,1.0,1.2,1.5,2.1,3.2,6.3,21.0]},medium:{8:[14.0,3.2,1.4,0.8,0.5,0.8,1.4,3.2,14.0],9:[19.0,4.2,1.8,1.0,0.6,0.6,1.0,1.8,4.2,19.0],10:[25.0,6.3,2.1,1.1,0.7,0.4,0.7,1.1,2.1,6.3,25.0],11:[45.0,7.4,2.1,1.2,0.7,0.4,0.4,0.7,1.2,2.1,7.4,45.0],12:[37.0,9.5,3.2,1.5,0.9,0.6,0.3,0.6,0.9,1.5,3.2,9.5,37.0],13:[61.0,16.0,4.2,2.1,1.1,0.7,0.4,0.3,0.4,0.7,1.1,2.1,4.2,16.0,61.0],14:[61.0,16.0,4.2,2.1,1.1,0.7,0.4,0.2,0.4,0.7,1.1,2.1,4.2,16.0,61.0],15:[92.0,19.0,5.3,2.1,1.1,0.7,0.4,0.2,0.2,0.4,0.7,1.1,2.1,5.3,19.0,92.0],16:[115.0,26.0,6.3,2.7,1.3,0.8,0.5,0.3,0.2,0.3,0.5,0.8,1.3,2.7,6.3,26.0,115.0]},high:{8:[31.0,4.3,1.7,0.4,0.3,0.4,1.7,4.3,31.0],9:[46.0,7.5,2.2,0.7,0.3,0.3,0.7,2.2,7.5,46.0],10:[80.0,10.6,2.2,0.7,0.4,0.2,0.4,0.7,2.2,10.6,80.0],11:[126.0,15.0,4.3,1.1,0.4,0.2,0.2,0.4,1.1,4.3,15.0,126.0],12:[178.0,23.0,4.3,1.1,0.5,0.3,0.2,0.3,0.5,1.1,4.3,23.0,178.0],13:[273.0,39.0,8.5,2.2,0.8,0.3,0.2,0.1,0.2,0.3,0.8,2.2,8.5,39.0,273.0],14:[441.0,58.0,8.5,2.2,0.8,0.4,0.2,0.1,0.2,0.4,0.8,2.2,8.5,58.0,441.0],15:[651.0,87.0,14.0,4.3,1.1,0.4,0.2,0.05,0.05,0.2,0.4,1.1,4.3,14.0,87.0,651.0],16:[1050.0,137.0,19.0,4.3,1.1,0.5,0.3,0.2,0.05,0.2,0.3,0.5,1.1,4.3,19.0,137.0,1050.0]}};const RISK_COLORS={low:'#10b981',medium:'#f59e42',high:'#ef4444'};const RISK_LEVELS=['low','medium','high'];const MIN_BET=0.01;const PlinkoGame=_ref=>{let{onClose,balance,onEarn}=_ref;const canvasRef=useRef(null);const animationRef=useRef();const autoPlayIntervalRef=useRef();const ballsRef=useRef([]);const pegsRef=useRef([]);const slotsRef=useRef([]);// Game dimensions\nconst CANVAS_WIDTH=800;const CANVAS_HEIGHT=600;const BALL_RADIUS=6;const PEG_RADIUS=4;// Physics constants\nconst GRAVITY=0.4;const BOUNCE_DAMPING=0.6;// Lowered from 0.8 for less bounce\nconst FRICTION=0.985;// Slightly more friction for faster settling\nconst[gameState,setGameState]=useState({betAmount:1.00,riskLevel:'medium',rows:12,playMode:'manual',isAutoPlaying:false,totalBallsDropped:0,lastPayout:0,totalWinnings:0,recentResults:[]});// Generate pegs in pyramid formation\nconst generatePegs=useCallback(rows=>{const pegs=[];const startY=100;const endY=CANVAS_HEIGHT-150;const totalHeight=endY-startY;const rowSpacing=totalHeight/rows;for(let row=0;row<rows;row++){const y=startY+row*rowSpacing;const pegsInRow=row+3;const spacing=40;const totalWidth=(pegsInRow-1)*spacing;const startX=(CANVAS_WIDTH-totalWidth)/2;for(let col=0;col<pegsInRow;col++){const x=startX+col*spacing;pegs.push({x,y,radius:PEG_RADIUS});}}return pegs;},[]);// Generate multiplier slots\nconst generateSlots=useCallback((rows,riskLevel)=>{const slots=[];const payouts=PAYOUT_TABLES[riskLevel][rows];const slotCount=rows+1;const slotWidth=45;const slotSpacing=8;const totalWidth=slotCount*slotWidth+(slotCount-1)*slotSpacing;const startX=(CANVAS_WIDTH-totalWidth)/2;const slotY=CANVAS_HEIGHT-70;const slotHeight=35;for(let i=0;i<slotCount;i++){const multiplier=payouts[i];let color='#10b981';if(multiplier<1){color='#ef4444';}else if(multiplier>=10){color='#8b5cf6';}else if(multiplier>=2){color='#f59e42';}slots.push({x:startX+i*(slotWidth+slotSpacing),y:slotY,width:slotWidth,height:slotHeight,multiplier,color,index:i});}return slots;},[]);// Initialize pegs and slots\nuseEffect(()=>{pegsRef.current=generatePegs(gameState.rows);slotsRef.current=generateSlots(gameState.rows,gameState.riskLevel);},[gameState.rows,gameState.riskLevel,generatePegs,generateSlots]);// Physics simulation for ball\nconst updateBall=useCallback(ball=>{if(ball.finished)return ball;ball.vy+=GRAVITY;ball.vx*=FRICTION;ball.vy*=FRICTION;ball.x+=ball.vx;ball.y+=ball.vy;// Track which row the ball is in\nconst startY=100;const endY=CANVAS_HEIGHT-150;const totalHeight=endY-startY;const rowSpacing=totalHeight/gameState.rows;const currentRow=Math.floor((ball.y-startY)/rowSpacing);if(ball.currentRow===undefined||currentRow>ball.currentRow){ball.currentRow=currentRow;ball.maxYThisRow=ball.y;}// Update maxYThisRow for this row\nif(ball.maxYThisRow===undefined||ball.y>ball.maxYThisRow){ball.maxYThisRow=ball.y;}// Collision with pegs\npegsRef.current.forEach(peg=>{const dx=ball.x-peg.x;const dy=ball.y-peg.y;const distance=Math.sqrt(dx*dx+dy*dy);if(distance<ball.radius+peg.radius){const angle=Math.atan2(dy,dx);const targetX=peg.x+Math.cos(angle)*(ball.radius+peg.radius);const targetY=peg.y+Math.sin(angle)*(ball.radius+peg.radius);ball.x=targetX;ball.y=targetY;const speed=Math.sqrt(ball.vx*ball.vx+ball.vy*ball.vy);ball.vx=Math.cos(angle)*speed*BOUNCE_DAMPING;ball.vy=Math.sin(angle)*speed*BOUNCE_DAMPING;// Prevent bouncing above the max Y reached in this row\nif(ball.maxYThisRow!==undefined&&ball.vy<0&&ball.y<ball.maxYThisRow-rowSpacing*0.08){ball.vy=0.05;// Even smaller downward nudge for minimal bounce\n}ball.vx+=(Math.random()-0.5)*0.5;}});// Canvas boundaries\nif(ball.x<ball.radius){ball.x=ball.radius;ball.vx=Math.abs(ball.vx)*BOUNCE_DAMPING;}if(ball.x>CANVAS_WIDTH-ball.radius){ball.x=CANVAS_WIDTH-ball.radius;ball.vx=-Math.abs(ball.vx)*BOUNCE_DAMPING;}// Check if ball reached slots\nif(ball.y>CANVAS_HEIGHT-120&&!ball.finished){const slot=slotsRef.current.find(s=>ball.x>=s.x&&ball.x<=s.x+s.width);if(slot){ball.finished=true;ball.slotIndex=slot.index;ball.multiplier=slot.multiplier;ball.payout=multiplyMoney(gameState.betAmount,slot.multiplier);setTimeout(()=>{// Only pay out if the player has enough balance (should always be true)\nsetGameState(prev=>{// Prevent negative balance\nconst newTotalWinnings=addMoney(prev.totalWinnings,subtractMoney(ball.payout,gameState.betAmount));return _objectSpread(_objectSpread({},prev),{},{lastPayout:ball.payout,totalWinnings:newTotalWinnings,recentResults:[ball.multiplier,...prev.recentResults.slice(0,9)]});});// Only pay out winnings (not net win/loss)\nif(ball.payout>0){onEarn(ball.payout);}},500);}}return ball;},[gameState.betAmount,onEarn]);// Animation loop\nconst animate=useCallback(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Clear canvas\nctx.fillStyle='#0f172a';ctx.fillRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);// Draw pegs\npegsRef.current.forEach(peg=>{ctx.fillStyle='rgba(0, 0, 0, 0.4)';ctx.beginPath();ctx.arc(peg.x+2,peg.y+2,peg.radius,0,Math.PI*2);ctx.fill();const pegGradient=ctx.createRadialGradient(peg.x-1,peg.y-1,0,peg.x,peg.y,peg.radius);pegGradient.addColorStop(0,'#64748b');pegGradient.addColorStop(0.7,'#475569');pegGradient.addColorStop(1,'#334155');ctx.fillStyle=pegGradient;ctx.beginPath();ctx.arc(peg.x,peg.y,peg.radius,0,Math.PI*2);ctx.fill();ctx.fillStyle='rgba(148, 163, 184, 0.8)';ctx.beginPath();ctx.arc(peg.x-1.5,peg.y-1.5,peg.radius*0.5,0,Math.PI*2);ctx.fill();});// Draw slots\nslotsRef.current.forEach(slot=>{const drawRoundedRect=(x,y,width,height,radius)=>{ctx.beginPath();ctx.moveTo(x+radius,y);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();};const radius=8;drawRoundedRect(slot.x+2,slot.y+2,slot.width,slot.height,radius);ctx.fillStyle='rgba(0, 0, 0, 0.3)';ctx.fill();drawRoundedRect(slot.x,slot.y,slot.width,slot.height,radius);ctx.fillStyle=slot.color;ctx.fill();ctx.strokeStyle='rgba(0, 0, 0, 0.2)';ctx.lineWidth=1;ctx.stroke();ctx.fillStyle='#ffffff';ctx.font='bold 14px Inter';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(\"\".concat(slot.multiplier,\"\\xD7\"),slot.x+slot.width/2,slot.y+slot.height/2);});// Update and draw balls\nballsRef.current=ballsRef.current.map(updateBall);ballsRef.current.forEach(ball=>{ctx.globalAlpha=0.3;ctx.fillStyle=ball.color;ctx.beginPath();ctx.arc(ball.x-ball.vx*2,ball.y-ball.vy*2,ball.radius*0.8,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1;ctx.fillStyle='rgba(0, 0, 0, 0.4)';ctx.beginPath();ctx.arc(ball.x+3,ball.y+3,ball.radius,0,Math.PI*2);ctx.fill();const gradient=ctx.createRadialGradient(ball.x-2,ball.y-2,0,ball.x,ball.y,ball.radius);gradient.addColorStop(0,'rgba(255, 255, 255, 0.8)');gradient.addColorStop(0.7,ball.color);gradient.addColorStop(1,'rgba(0, 0, 0, 0.3)');ctx.fillStyle=gradient;ctx.beginPath();ctx.arc(ball.x,ball.y,ball.radius,0,Math.PI*2);ctx.fill();ctx.fillStyle='rgba(255, 255, 255, 0.6)';ctx.beginPath();ctx.arc(ball.x-2,ball.y-2,ball.radius*0.4,0,Math.PI*2);ctx.fill();});ballsRef.current=ballsRef.current.filter(ball=>!ball.finished||Date.now()-ball.id<2000);animationRef.current=requestAnimationFrame(animate);},[updateBall]);// Start animation\nuseEffect(()=>{animate();return()=>{if(animationRef.current){cancelAnimationFrame(animationRef.current);}};},[animate]);// Drop ball function\nconst dropBall=useCallback(()=>{if(gameState.betAmount>balance)return;// Deduct bet immediately and prevent negative balance\nonEarn(-gameState.betAmount);setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{totalBallsDropped:prev.totalBallsDropped+1}));const firstRowPegs=3;const spacing=40;const totalWidth=(firstRowPegs-1)*spacing;const startX=(CANVAS_WIDTH-totalWidth)/2;const leftmostPegX=startX;const rightmostPegX=startX+totalWidth;const dropX=leftmostPegX+Math.random()*(rightmostPegX-leftmostPegX);const newBall={x:dropX,y:30,vx:(Math.random()-0.5)*0.3,vy:0,radius:BALL_RADIUS,id:Date.now()+Math.random(),finished:false,slotIndex:0,multiplier:0,payout:0,color:RISK_COLORS[gameState.riskLevel]};ballsRef.current.push(newBall);},[gameState.betAmount,balance,gameState.riskLevel,onEarn]);return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)',display:'flex',flexDirection:'column',alignItems:'center',padding:20,overflow:'auto',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{onClick:e=>e.stopPropagation(),style:{width:'100%',display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',width:'100%',maxWidth:1200,marginBottom:20,background:'rgba(15, 23, 42, 0.95)',backdropFilter:'blur(10px)',borderRadius:16,padding:'16px 24px',border:'1px solid rgba(94, 234, 212, 0.2)',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.3)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:32,height:32,background:'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)',borderRadius:8,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'18px',fontWeight:'bold',color:'#0f172a'},children:\"P\"}),/*#__PURE__*/_jsx(\"h1\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.lg)),{},{color:'#5eead4',margin:0,fontWeight:'bold'}),children:\"Professional Plinko\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:_objectSpread(_objectSpread({background:'rgba(239, 68, 68, 0.1)',border:'1px solid rgba(239, 68, 68, 0.3)',borderRadius:10,color:'#ef4444',padding:'8px 16px',cursor:'pointer'},applyTypography(typography.ui.button.sm)),{},{fontWeight:'bold',transition:'all 0.2s ease'}),children:\"Close Game\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:20,width:'100%',maxWidth:1200,alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(15, 23, 42, 0.95)',backdropFilter:'blur(10px)',border:'1px solid rgba(94, 234, 212, 0.2)',borderRadius:20,padding:24,width:300,display:'flex',flexDirection:'column',gap:20,boxShadow:'0 8px 32px rgba(0, 0, 0, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',background:'linear-gradient(135deg, rgba(94, 234, 212, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%)',borderRadius:16,padding:16,border:'1px solid rgba(94, 234, 212, 0.2)'},children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.lg)),{},{color:'#5eead4',marginBottom:10,fontWeight:'bold'}),children:[\"$\",formatMoney(balance)]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:_objectSpread(_objectSpread({},applyTypography(typography.ui.label)),{},{color:'#94a3b8',display:'block',marginBottom:12,fontSize:'14px',fontWeight:'500'}),children:\"Play Mode\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',background:'rgba(30, 41, 59, 0.8)',borderRadius:14,padding:4,border:'1px solid rgba(94, 234, 212, 0.15)'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{playMode:'manual',isAutoPlaying:false})),style:_objectSpread(_objectSpread({flex:1,background:gameState.playMode==='manual'?'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)':'transparent',border:'none',borderRadius:10,color:gameState.playMode==='manual'?'#0f172a':'#cbd5e1',padding:'10px 20px',cursor:'pointer'},applyTypography(typography.ui.button.sm)),{},{fontWeight:'bold',transition:'all 0.3s ease',boxShadow:gameState.playMode==='manual'?'0 4px 12px rgba(94, 234, 212, 0.3)':'none'}),children:\"Manual\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{playMode:'auto',isAutoPlaying:false})),style:_objectSpread(_objectSpread({flex:1,background:gameState.playMode==='auto'?'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)':'transparent',border:'none',borderRadius:10,color:gameState.playMode==='auto'?'#0f172a':'#cbd5e1',padding:'10px 20px',cursor:'pointer'},applyTypography(typography.ui.button.sm)),{},{fontWeight:'bold',transition:'all 0.3s ease',boxShadow:gameState.playMode==='auto'?'0 4px 12px rgba(94, 234, 212, 0.3)':'none'}),children:\"Auto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:_objectSpread(_objectSpread({},applyTypography(typography.ui.label)),{},{color:'#94a3b8',display:'block',marginBottom:12,fontSize:'14px',fontWeight:'500'}),children:\"Bet Amount\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,marginBottom:12,background:'rgba(30, 41, 59, 0.8)',borderRadius:12,padding:4,border:'1px solid rgba(94, 234, 212, 0.15)'},children:[/*#__PURE__*/_jsx(\"span\",{style:_objectSpread(_objectSpread({color:'#5eead4',padding:'8px 12px'},applyTypography(typography.body.md)),{},{fontWeight:'bold'}),children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:gameState.betAmount,onChange:e=>{const raw=parseMoneyInput(e.target.value);let clamped=Math.max(MIN_BET,Math.min(sanitizeMoney(raw),roundMoney(balance)));setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{betAmount:clamped}));},style:_objectSpread(_objectSpread({flex:1,background:'transparent',border:'none',outline:'none',color:textColors.white,padding:'8px 8px'},applyTypography(typography.body.md)),{},{fontWeight:'bold'}),step:\"0.01\",min:MIN_BET})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:6},children:[0.5,2,5,10].map(multiplier=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{betAmount:Math.max(MIN_BET,Math.min(sanitizeMoney(multiplier<1?multiplyMoney(prev.betAmount,multiplier):addMoney(prev.betAmount,multiplier)),roundMoney(balance)))})),style:_objectSpread(_objectSpread({flex:1,background:'rgba(94, 234, 212, 0.1)',border:'1px solid rgba(94, 234, 212, 0.3)',borderRadius:8,color:'#5eead4',padding:'6px 8px',cursor:'pointer'},applyTypography(typography.ui.caption)),{},{fontSize:'11px',fontWeight:'bold',transition:'all 0.2s ease'}),children:multiplier<1?\"\".concat(multiplier,\"\\xD7\"):\"+$\".concat(multiplier)},multiplier))}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:10},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{betAmount:Math.max(MIN_BET,roundMoney(balance))})),disabled:balance<MIN_BET,className:\"all-in-btn\",children:[\"All In ($\",formatMoney(balance),\")\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:_objectSpread(_objectSpread({},applyTypography(typography.ui.label)),{},{color:'#94a3b8',display:'block',marginBottom:12,fontSize:'14px',fontWeight:'500'}),children:\"Risk Level\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:6},children:RISK_LEVELS.map(risk=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{riskLevel:risk})),style:_objectSpread(_objectSpread({flex:1,background:gameState.riskLevel===risk?RISK_COLORS[risk]:'rgba(30, 41, 59, 0.8)',border:gameState.riskLevel===risk?'none':'1px solid rgba(94, 234, 212, 0.15)',borderRadius:10,color:textColors.white,padding:'10px 16px',cursor:'pointer'},applyTypography(typography.ui.button.sm)),{},{textTransform:'capitalize',fontWeight:'bold',transition:'all 0.2s ease',boxShadow:gameState.riskLevel===risk?\"0 4px 12px \".concat(RISK_COLORS[risk],\"40\"):'none'}),children:risk},risk))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:_objectSpread(_objectSpread({},applyTypography(typography.ui.label)),{},{color:'#94a3b8',display:'block',marginBottom:12,fontSize:'14px',fontWeight:'500'}),children:[\"Rows: \",gameState.rows]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(30, 41, 59, 0.8)',borderRadius:12,padding:12,border:'1px solid rgba(94, 234, 212, 0.15)'},children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"8\",max:\"16\",value:gameState.rows,onChange:e=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{rows:parseInt(e.target.value)})),style:{width:'100%',height:'6px',background:'rgba(94, 234, 212, 0.2)',borderRadius:'3px',outline:'none',appearance:'none',cursor:'pointer'}})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:gameState.playMode==='manual'?dropBall:()=>setGameState(prev=>_objectSpread(_objectSpread({},prev),{},{isAutoPlaying:!prev.isAutoPlaying})),disabled:gameState.betAmount>balance,style:_objectSpread(_objectSpread({background:gameState.betAmount<=balance?gameState.isAutoPlaying?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)':'rgba(75, 85, 99, 0.5)',border:'none',borderRadius:16,color:gameState.betAmount<=balance?gameState.isAutoPlaying?textColors.white:'#0f172a':'#9ca3af',padding:'16px 24px',cursor:gameState.betAmount<=balance?'pointer':'not-allowed'},applyTypography(typography.ui.button.lg)),{},{fontWeight:'bold',boxShadow:gameState.betAmount<=balance?gameState.isAutoPlaying?'0 6px 20px rgba(239, 68, 68, 0.4)':'0 6px 20px rgba(94, 234, 212, 0.4)':'none',transition:'all 0.3s ease',textTransform:'uppercase',letterSpacing:'1px'}),children:gameState.playMode==='manual'?\"Drop Ball - \".concat(formatMoney(gameState.betAmount)):gameState.isAutoPlaying?'Stop Auto':'Start Auto'})]}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT,style:{border:'2px solid rgba(94, 234, 212, 0.2)',borderRadius:20,background:'linear-gradient(180deg, #1e293b 0%, #0f172a 100%)',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.3)'}}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(15, 23, 42, 0.95)',backdropFilter:'blur(10px)',border:'1px solid rgba(94, 234, 212, 0.2)',borderRadius:20,padding:24,width:250,display:'flex',flexDirection:'column',gap:20,boxShadow:'0 8px 32px rgba(0, 0, 0, 0.3)'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.md)),{},{color:'#5eead4',margin:0,marginBottom:16,fontWeight:'bold',textAlign:'center'}),children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16,background:'rgba(94, 234, 212, 0.1)',borderRadius:12,padding:16,border:'1px solid rgba(94, 234, 212, 0.2)'},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.body.sm)),{},{color:'#94a3b8',fontSize:'12px',marginBottom:4}),children:\"Balls Dropped\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.lg)),{},{color:'#5eead4',fontWeight:'bold'}),children:gameState.totalBallsDropped})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16,background:'rgba(94, 234, 212, 0.1)',borderRadius:12,padding:16,border:'1px solid rgba(94, 234, 212, 0.2)'},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.body.sm)),{},{color:'#94a3b8',fontSize:'12px',marginBottom:4}),children:\"Last Payout\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.lg)),{},{color:gameState.lastPayout>gameState.betAmount?'#10b981':'#ef4444',fontWeight:'bold'}),children:[\"$\",formatMoney(gameState.lastPayout)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(94, 234, 212, 0.1)',borderRadius:12,padding:16,border:'1px solid rgba(94, 234, 212, 0.2)'},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.body.sm)),{},{color:'#94a3b8',fontSize:'12px',marginBottom:4}),children:\"Total P&L\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.lg)),{},{color:gameState.totalWinnings>=0?'#10b981':'#ef4444',fontWeight:'bold'}),children:[gameState.totalWinnings>=0?'+':'-',\"$\",Math.abs(gameState.totalWinnings).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:_objectSpread(_objectSpread({},applyTypography(typography.heading.sm)),{},{color:'#5eead4',margin:0,marginBottom:12,fontWeight:'bold',textAlign:'center'}),children:\"Recent Results\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'4px',maxHeight:'80px',overflowY:'auto',background:'rgba(30, 41, 59, 0.8)',borderRadius:12,padding:12,border:'1px solid rgba(94, 234, 212, 0.15)'},children:gameState.recentResults.map((result,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'32px',height:'24px',background:result>=1?'linear-gradient(135deg, #10b981 0%, #059669 100%)':'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',borderRadius:'6px',display:'flex',alignItems:'center',justifyContent:'center',color:textColors.white,fontSize:'10px',fontWeight:'bold',boxShadow:result>=1?'0 2px 4px rgba(16, 185, 129, 0.3)':'0 2px 4px rgba(239, 68, 68, 0.3)'},children:[result.toFixed(1),\"\\xD7\"]},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20,padding:'16px 24px',background:'rgba(15, 23, 42, 0.95)',backdropFilter:'blur(10px)',borderRadius:16,border:'1px solid rgba(94, 234, 212, 0.2)',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.3)',display:'flex',alignItems:'center',justifyContent:'center',gap:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:20,height:20,background:'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)',borderRadius:4,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px',fontWeight:'bold',color:'#0f172a'},children:\"\\xA9\"}),/*#__PURE__*/_jsx(\"span\",{style:_objectSpread(_objectSpread({},applyTypography(typography.body.sm)),{},{color:'#94a3b8',fontSize:'14px'}),children:\"Professional Plinko 2025 \\u2022 Player-Favorable Odds \\u2022 Built with React & TypeScript\"})]})]})});};export default PlinkoGame;","map":null,"metadata":{},"sourceType":"module"}