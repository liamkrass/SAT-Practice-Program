{"ast":null,"code":"var _jsxFileName = \"/Users/liamkrass/Documents/satProjectV2/sat-practice-app-1/frontend/src/components/QuestionDisplay.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport SafeButton from './SafeButton';\nimport { typography, applyTypography, textColors } from '../styles/typography';\nimport Casino from './Casino';\nimport { VisualElementRenderer } from './VisualElements';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Helper to normalize answers for comparison (top-level, so it's reused everywhere)\nconst normalizeAnswer = answer => {\n  if (!answer) return '';\n  return answer.replace(/^[A-D]\\)\\s*/, '').trim().toLowerCase();\n};\n\n// Robust answer checking: matches letter, full option, or text\nconst isAnswerCorrect = (selected, correct, options) => {\n  if (!selected || !correct) return false;\n  const norm = s => s.replace(/^[A-D]\\)?\\s*/, '').trim().toLowerCase();\n  // If correct is a single letter (A/B/C/D), match by index\n  if (/^[A-D]$/i.test(correct.trim())) {\n    const correctIdx = 'ABCD'.indexOf(correct.trim().toUpperCase());\n    if (correctIdx >= 0 && options[correctIdx]) {\n      return norm(selected) === norm(options[correctIdx]) || selected.trim().toUpperCase() === correct.trim().toUpperCase();\n    }\n  }\n  // If selected is a single letter, match by index\n  if (/^[A-D]$/i.test(selected.trim())) {\n    const selIdx = 'ABCD'.indexOf(selected.trim().toUpperCase());\n    if (selIdx >= 0 && options[selIdx]) {\n      return norm(options[selIdx]) === norm(correct) || selected.trim().toUpperCase() === correct.trim().toUpperCase();\n    }\n  }\n  // Otherwise, compare normalized\n  return norm(selected) === norm(correct);\n};\nconst QuestionDisplay = props => {\n  _s();\n  const {\n    question,\n    onAnswer,\n    selectedAnswer,\n    setSelectedAnswer,\n    onSkip,\n    questionNumber,\n    totalQuestions,\n    onShowQuestionList,\n    balance,\n    onEarn,\n    answers = {},\n    allQuestions = []\n  } = props;\n\n  // Safety check for question prop\n  if (!question) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center',\n        background: '#fee2e2',\n        borderRadius: '16px',\n        margin: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#dc2626',\n          marginBottom: '8px'\n        },\n        children: \"Error: No Question Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#7f1d1d'\n        },\n        children: \"Unable to load question. Please try refreshing the page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Safety check for question options\n  if (!question.options || !Array.isArray(question.options) || question.options.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center',\n        background: '#fef3c7',\n        borderRadius: '16px',\n        margin: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#d97706',\n          marginBottom: '8px'\n        },\n        children: \"Error: Invalid Question Format\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#92400e'\n        },\n        children: \"Question options are missing or invalid.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '12px',\n          color: '#451a03',\n          marginTop: '8px'\n        },\n        children: [\"Question ID: \", question.id || 'Unknown']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n  const [localSelected, setLocalSelected] = useState('');\n  const [showReference, setShowReference] = useState(false);\n  const [showCalculator, setShowCalculator] = useState(false);\n  const [showPlinko, setShowPlinko] = useState(false);\n  const [imageLoadError, setImageLoadError] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [feedbackData, setFeedbackData] = useState(null);\n\n  // Use local state if no external selectedAnswer is provided\n  const effectiveSelected = selectedAnswer || localSelected;\n\n  // Handle selection - works with both controlled and uncontrolled mode\n  const handleSelect = option => {\n    console.log('QuestionDisplay: Option selected:', option);\n    if (setSelectedAnswer) {\n      setSelectedAnswer(option);\n    } else {\n      setLocalSelected(option);\n    }\n  };\n\n  // Fallback for onSkip if not provided\n  const handleSkip = () => {\n    console.log('QuestionDisplay: Skip button clicked');\n    if (onSkip) onSkip();\n  };\n\n  // Fallback for onAnswer if not provided\n  const handleSubmit = () => {\n    const answerToSubmit = selectedAnswer || localSelected;\n    if (answerToSubmit && question) {\n      const isCorrect = isAnswerCorrect(answerToSubmit, question.correctAnswer, question.options);\n      setFeedbackData({\n        isCorrect,\n        selectedAnswer: answerToSubmit,\n        correctAnswer: question.correctAnswer\n      });\n      setShowFeedback(true);\n    }\n  };\n  const handleNext = () => {\n    if (feedbackData && onAnswer) {\n      onAnswer(feedbackData.selectedAnswer);\n    }\n    setShowFeedback(false);\n    setFeedbackData(null);\n    // Reset local selection for next question\n    setLocalSelected('');\n  };\n\n  // Fallback for onShowQuestionList if not provided\n  const handleShowQuestionList = () => {\n    console.log('QuestionDisplay: Jump to question button clicked');\n    if (onShowQuestionList) onShowQuestionList();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question-display modern-question\",\n    style: {\n      position: 'relative',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)',\n      borderRadius: 28,\n      boxShadow: '0 8px 32px rgba(60,72,100,0.13)',\n      padding: '56px 28px 36px 28px',\n      maxWidth: 520,\n      margin: '64px auto',\n      minHeight: 440,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      border: '1.5px solid #e5e7eb'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 20,\n        right: 20,\n        zIndex: 2,\n        display: 'flex',\n        gap: 6,\n        background: 'rgba(255, 255, 255, 0.98)',\n        backdropFilter: 'blur(12px)',\n        borderRadius: 20,\n        padding: '6px',\n        border: '1.5px solid #e5e7eb',\n        boxShadow: '0 6px 24px rgba(60,72,100,0.12)',\n        animation: 'fadeInScale 0.3s ease-out'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShowQuestionList,\n        title: \"Jump to Question\",\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '10px',\n          borderRadius: 14,\n          width: 44,\n          height: 44,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          outline: 'none'\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.background = 'rgba(99, 102, 241, 0.1)';\n          e.currentTarget.style.transform = 'scale(1.05)';\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.background = 'none';\n          e.currentTarget.style.transform = 'scale(1)';\n        },\n        \"aria-label\": \"Jump to Question\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"22\",\n          height: \"22\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"3\",\n            y: \"3\",\n            width: \"18\",\n            height: \"18\",\n            rx: \"4\",\n            stroke: \"#6366f1\",\n            strokeWidth: \"2\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"6\",\n            y: \"6\",\n            width: \"4\",\n            height: \"4\",\n            rx: \"1\",\n            fill: \"#6366f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"14\",\n            y: \"6\",\n            width: \"4\",\n            height: \"4\",\n            rx: \"1\",\n            fill: \"#6366f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"6\",\n            y: \"14\",\n            width: \"4\",\n            height: \"4\",\n            rx: \"1\",\n            fill: \"#6366f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"14\",\n            y: \"14\",\n            width: \"4\",\n            height: \"4\",\n            rx: \"1\",\n            fill: \"#6366f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"1.5\",\n            fill: \"#6366f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PerformanceDropdownButton, {\n        answers: answers,\n        allQuestions: allQuestions,\n        questionNumber: questionNumber || 1,\n        totalQuestions: totalQuestions || 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), question.category === 'math' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCalculator(true),\n        title: \"Calculator\",\n        style: {\n          background: showCalculator ? 'rgba(245, 158, 66, 0.15)' : 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '10px',\n          borderRadius: 14,\n          width: 44,\n          height: 44,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          outline: 'none'\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.background = 'rgba(245, 158, 66, 0.15)';\n          e.currentTarget.style.transform = 'scale(1.05)';\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.background = showCalculator ? 'rgba(245, 158, 66, 0.15)' : 'none';\n          e.currentTarget.style.transform = 'scale(1)';\n        },\n        \"aria-label\": \"Calculator\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"22\",\n          height: \"22\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"4\",\n            y: \"2\",\n            width: \"16\",\n            height: \"20\",\n            rx: \"3\",\n            stroke: \"#f59e42\",\n            strokeWidth: \"2\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"5\",\n            width: \"10\",\n            height: \"4\",\n            rx: \"1\",\n            fill: \"#f59e42\",\n            opacity: \"0.2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: \"12\",\n            y: \"8\",\n            fontSize: \"6\",\n            fill: \"#f59e42\",\n            textAnchor: \"middle\",\n            fontWeight: \"bold\",\n            children: \"123\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"11\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"10.75\",\n            y: \"11\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"14.5\",\n            y: \"11\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"15\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"10.75\",\n            y: \"15\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"14.5\",\n            y: \"15\",\n            width: \"2.5\",\n            height: \"2.5\",\n            rx: \"0.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }, this), question.category === 'math' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowReference(true),\n        title: \"Reference Sheet\",\n        style: {\n          background: showReference ? 'rgba(245, 158, 66, 0.15)' : 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '10px',\n          borderRadius: 14,\n          width: 44,\n          height: 44,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          outline: 'none'\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.background = 'rgba(245, 158, 66, 0.15)';\n          e.currentTarget.style.transform = 'scale(1.05)';\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.background = showReference ? 'rgba(245, 158, 66, 0.15)' : 'none';\n          e.currentTarget.style.transform = 'scale(1)';\n        },\n        \"aria-label\": \"Reference Sheet\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"22\",\n          height: \"22\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"4\",\n            y: \"3\",\n            width: \"16\",\n            height: \"18\",\n            rx: \"2\",\n            stroke: \"#f59e42\",\n            strokeWidth: \"2\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M4 8H20\",\n            stroke: \"#f59e42\",\n            strokeWidth: \"1.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"5\",\n            width: \"4\",\n            height: \"1.5\",\n            rx: \"0.75\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"13\",\n            y: \"5\",\n            width: \"4\",\n            height: \"1.5\",\n            rx: \"0.75\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"11\",\n            width: \"10\",\n            height: \"1\",\n            rx: \"0.5\",\n            fill: \"#f59e42\",\n            opacity: \"0.6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"13.5\",\n            width: \"8\",\n            height: \"1\",\n            rx: \"0.5\",\n            fill: \"#f59e42\",\n            opacity: \"0.6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"7\",\n            y: \"16\",\n            width: \"6\",\n            height: \"1\",\n            rx: \"0.5\",\n            fill: \"#f59e42\",\n            opacity: \"0.6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"17\",\n            cy: \"16\",\n            r: \"1.5\",\n            fill: \"#f59e42\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16 16L17 17L18.5 15\",\n            stroke: \"white\",\n            strokeWidth: \"1\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowPlinko(true),\n        title: \"Open Casino\",\n        style: {\n          background: showPlinko ? 'rgba(139, 92, 246, 0.15)' : 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '10px',\n          borderRadius: 14,\n          width: 44,\n          height: 44,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          outline: 'none'\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.background = 'rgba(139, 92, 246, 0.15)';\n          e.currentTarget.style.transform = 'scale(1.05)';\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.background = showPlinko ? 'rgba(139, 92, 246, 0.15)' : 'none';\n          e.currentTarget.style.transform = 'scale(1)';\n        },\n        \"aria-label\": \"Open Casino\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"22\",\n          height: \"22\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            fill: \"#8b5cf6\",\n            stroke: \"#7c3aed\",\n            strokeWidth: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"6\",\n            fill: \"none\",\n            stroke: \"white\",\n            strokeWidth: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"2\",\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"6\",\n            cy: \"12\",\n            r: \"1\",\n            fill: \"white\",\n            opacity: \"0.8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"18\",\n            cy: \"12\",\n            r: \"1\",\n            fill: \"white\",\n            opacity: \"0.8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"6\",\n            r: \"1\",\n            fill: \"white\",\n            opacity: \"0.8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"18\",\n            r: \"1\",\n            fill: \"white\",\n            opacity: \"0.8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: \"12\",\n            y: \"16\",\n            fontSize: \"6\",\n            fill: \"white\",\n            textAnchor: \"middle\",\n            fontWeight: \"bold\",\n            children: \"$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this), question.category === 'math' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        zIndex: 1000\n      },\n      children: showCalculator && /*#__PURE__*/_jsxDEV(CalculatorModal, {\n        onClose: () => setShowCalculator(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 40\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }, this), question.category === 'math' && showReference && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(30,41,59,0.25)',\n        zIndex: 1500,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backdropFilter: 'blur(8px)',\n        animation: 'fadeInScale 0.3s ease-out'\n      },\n      onClick: () => {\n        setShowReference(false);\n      },\n      tabIndex: 0,\n      onKeyDown: e => {\n        if (e.key === 'Escape') {\n          setShowReference(false);\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 20,\n          boxShadow: '0 12px 40px rgba(60,72,100,0.25)',\n          padding: '24px',\n          maxWidth: '95vw',\n          maxHeight: '95vh',\n          overflow: 'auto',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          border: '1px solid #e5e7eb'\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            ...applyTypography(typography.heading.md),\n            color: textColors.primary,\n            marginBottom: 20,\n            textAlign: 'center'\n          },\n          children: \"SAT Reference Sheet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: 16,\n            overflow: 'hidden',\n            boxShadow: '0 4px 20px rgba(60,72,100,0.15)',\n            marginBottom: 24,\n            border: '2px solid #f3f4f6',\n            minHeight: imageLoadError ? '300px' : 'auto',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: imageLoadError ? '#f8fafc' : 'transparent'\n          },\n          children: imageLoadError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '40px',\n              color: textColors.secondary\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"48\",\n              height: \"48\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.5\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              style: {\n                marginBottom: '16px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"4\",\n                y: \"3\",\n                width: \"16\",\n                height: \"18\",\n                rx: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M8 7h8M8 11h8M8 15h4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                ...applyTypography(typography.heading.sm),\n                color: textColors.primary,\n                marginBottom: 8\n              },\n              children: \"SAT Reference Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                ...applyTypography(typography.body.sm),\n                color: textColors.secondary,\n                marginBottom: 16\n              },\n              children: [\"Reference sheet image not available.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 77\n              }, this), \"Please refer to your official SAT materials.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#f3f4f6',\n                borderRadius: 8,\n                padding: '12px',\n                ...applyTypography(typography.body.sm),\n                color: textColors.tertiary,\n                fontSize: '12px'\n              },\n              children: \"Common formulas include: Area, Volume, Pythagorean Theorem, and Trigonometric ratios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: '/satReferenceSheet.jpg',\n            alt: \"SAT Reference Sheet\",\n            style: {\n              maxWidth: '85vw',\n              maxHeight: '70vh',\n              width: 'auto',\n              height: 'auto',\n              display: 'block'\n            },\n            onError: e => {\n              console.error('Failed to load reference sheet image');\n              setImageLoadError(true);\n            },\n            onLoad: () => {\n              setImageLoadError(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowReference(false),\n          style: {\n            background: 'linear-gradient(90deg, #6366f1 0%, #818cf8 100%)',\n            color: textColors.white,\n            border: 'none',\n            borderRadius: 12,\n            padding: '12px 32px',\n            cursor: 'pointer',\n            boxShadow: '0 4px 16px rgba(99, 102, 241, 0.25)',\n            transition: 'all 0.2s ease',\n            ...applyTypography(typography.ui.button.md)\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'translateY(-2px)';\n            e.currentTarget.style.boxShadow = '0 6px 20px rgba(99, 102, 241, 0.35)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 4px 16px rgba(99, 102, 241, 0.25)';\n          },\n          children: \"Close Reference Sheet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 17\n    }, this), showPlinko && /*#__PURE__*/_jsxDEV(Casino, {\n      onClose: () => setShowPlinko(false),\n      balance: balance || 0,\n      onEarn: onEarn || (() => {})\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"modern-question-title\",\n      style: {\n        ...applyTypography(typography.question.title),\n        marginTop: 28,\n        marginBottom: 22,\n        textAlign: 'center'\n      },\n      children: question.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 13\n    }, this), question.visualElement && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 24,\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '16px',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        border: '1px solid #e9ecef'\n      },\n      children: /*#__PURE__*/_jsxDEV(VisualElementRenderer, {\n        visual: question.visualElement,\n        className: \"question-visual\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 17\n    }, this), question.visual && !question.visualElement && question.visual !== 'None' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 24,\n        padding: '12px 16px',\n        backgroundColor: '#f0f8ff',\n        borderRadius: '6px',\n        border: '1px solid #cce7ff',\n        fontSize: '14px',\n        fontStyle: 'italic',\n        color: '#2c5aa0',\n        textAlign: 'center'\n      },\n      children: question.visual\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options modern-options\",\n      style: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 14,\n        marginBottom: 18\n      },\n      children: question.options.map((option, index) => {\n        let isCorrect = false;\n        let isUserChoice = false;\n        let showIcon = false;\n        let buttonVariant = normalizeAnswer(effectiveSelected) === normalizeAnswer(option) ? 'selected' : 'option';\n        if (showFeedback && feedbackData) {\n          isCorrect = isAnswerCorrect(option, question.correctAnswer, question.options);\n          isUserChoice = isAnswerCorrect(option, feedbackData.selectedAnswer, question.options);\n          showIcon = isCorrect || isUserChoice;\n          if (isCorrect) {\n            buttonVariant = 'success';\n          } else if (isUserChoice && !isCorrect) {\n            buttonVariant = 'primary';\n          } else {\n            buttonVariant = 'option';\n          }\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(SafeButton, {\n            onClick: () => !showFeedback && handleSelect(option),\n            variant: buttonVariant,\n            disabled: showFeedback,\n            children: option\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 29\n          }, this), showFeedback && feedbackData && (isCorrect || isUserChoice) && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              right: '16px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '28px',\n              height: '28px',\n              borderRadius: '50%',\n              background: isCorrect ? '#10b981' : '#ef4444',\n              zIndex: 2\n            },\n            children: isCorrect ? /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M8 12L11 15L16 9\",\n                stroke: \"white\",\n                strokeWidth: \"2.5\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M8 8L16 16M16 8L8 16\",\n                stroke: \"white\",\n                strokeWidth: \"2.5\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 14,\n        marginTop: 12,\n        justifyContent: 'center',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(SafeButton, {\n        onClick: handleSkip,\n        variant: \"secondary\",\n        style: {\n          flex: 1,\n          maxWidth: 150\n        },\n        disabled: showFeedback,\n        children: \"Skip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SafeButton, {\n        onClick: showFeedback ? handleNext : handleSubmit,\n        variant: \"primary\",\n        disabled: !showFeedback && !effectiveSelected,\n        style: {\n          flex: 1,\n          maxWidth: 150\n        },\n        children: showFeedback ? 'Next' : 'Submit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 9\n  }, this);\n};\n\n// Calculator modal (persistent, draggable, resizable)\n_s(QuestionDisplay, \"BDrgK4SDpU8wsDZlBc3kZ1jFIyE=\");\n_c = QuestionDisplay;\nconst DESMOS_URL = \"https://www.desmos.com/testing/cb-sat-ap/graphing\";\nconst CalculatorModal = ({\n  onClose\n}) => {\n  _s2();\n  const [position, setPosition] = useState({\n    x: 80,\n    y: 80\n  });\n  const [size, setSize] = useState({\n    width: 400,\n    height: 500\n  });\n  const [dragging, setDragging] = useState(false);\n  const [resizing, setResizing] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [resizeStart, setResizeStart] = useState(null);\n  const calcRef = React.useRef(null);\n\n  // Drag handlers\n  const onDragMouseDown = e => {\n    e.preventDefault();\n    setDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n  };\n  React.useEffect(() => {\n    if (!dragging) return;\n    const onMove = e => {\n      setPosition({\n        x: e.clientX - ((dragStart === null || dragStart === void 0 ? void 0 : dragStart.x) || 0),\n        y: e.clientY - ((dragStart === null || dragStart === void 0 ? void 0 : dragStart.y) || 0)\n      });\n    };\n    const onUp = () => setDragging(false);\n    window.addEventListener('mousemove', onMove);\n    window.addEventListener('mouseup', onUp);\n    return () => {\n      window.removeEventListener('mousemove', onMove);\n      window.removeEventListener('mouseup', onUp);\n    };\n  }, [dragging, dragStart]);\n\n  // Resize handlers\n  const onResizeMouseDown = e => {\n    e.preventDefault();\n    setResizing(true);\n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      width: size.width,\n      height: size.height\n    });\n  };\n  React.useEffect(() => {\n    if (!resizing) return;\n    const onMove = e => {\n      if (!resizeStart) return;\n      const newWidth = Math.max(300, resizeStart.width + (e.clientX - resizeStart.x));\n      const newHeight = Math.max(300, resizeStart.height + (e.clientY - resizeStart.y));\n      setSize({\n        width: newWidth,\n        height: newHeight\n      });\n    };\n    const onUp = () => setResizing(false);\n    window.addEventListener('mousemove', onMove);\n    window.addEventListener('mouseup', onUp);\n    return () => {\n      window.removeEventListener('mousemove', onMove);\n      window.removeEventListener('mouseup', onUp);\n    };\n  }, [resizing, resizeStart]);\n\n  // Keep calculator in viewport\n  React.useEffect(() => {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    setPosition(pos => ({\n      x: Math.max(0, Math.min(pos.x, innerWidth - size.width)),\n      y: Math.max(0, Math.min(pos.y, innerHeight - size.height))\n    }));\n    // eslint-disable-next-line\n  }, [size.width, size.height]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: calcRef,\n    style: {\n      position: 'fixed',\n      top: position.y,\n      left: position.x,\n      background: '#fff',\n      border: '1.5px solid #e5e7eb',\n      borderRadius: 8,\n      boxShadow: '0 2px 16px rgba(0,0,0,0.13)',\n      zIndex: 1000,\n      width: size.width,\n      height: size.height,\n      padding: 0,\n      minWidth: 300,\n      minHeight: 300,\n      maxWidth: '95vw',\n      maxHeight: '95vh',\n      userSelect: dragging || resizing ? 'none' : 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        cursor: 'move',\n        background: '#f3f4f6',\n        borderTopLeftRadius: 8,\n        borderTopRightRadius: 8,\n        padding: 8,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      onMouseDown: onDragMouseDown,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: textColors.accent,\n          ...applyTypography(typography.ui.button.md)\n        },\n        children: \"SAT Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: textColors.accent,\n          cursor: 'pointer',\n          ...applyTypography(typography.ui.button.lg),\n          fontSize: '20px',\n          fontWeight: 700\n        },\n        \"aria-label\": \"Close Calculator\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n      src: DESMOS_URL,\n      title: \"SAT Calculator\",\n      style: {\n        width: '100%',\n        height: size.height - 40,\n        border: 'none',\n        borderRadius: 8\n      },\n      allowFullScreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 800,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        right: 0,\n        bottom: 0,\n        width: 24,\n        height: 24,\n        cursor: 'nwse-resize',\n        zIndex: 2,\n        background: 'transparent',\n        display: 'flex',\n        alignItems: 'flex-end',\n        justifyContent: 'flex-end'\n      },\n      onMouseDown: onResizeMouseDown,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"22\",\n        height: \"22\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"#6366f1\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n          points: \"16 20 20 20 20 16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 155\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"14\",\n          y1: \"20\",\n          x2: \"20\",\n          y2: \"14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 193\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 807,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 747,\n    columnNumber: 9\n  }, this);\n};\n\n// Performance Dropdown Button component\n_s2(CalculatorModal, \"fkvveBWfp6qX/ZyMI9alnQV2uzs=\");\n_c2 = CalculatorModal;\nconst PerformanceDropdownButton = ({\n  answers,\n  allQuestions,\n  questionNumber,\n  totalQuestions\n}) => {\n  _s3();\n  // Import the progress storage functions\n  const [detailedAnswers, setDetailedAnswers] = React.useState({});\n  React.useEffect(() => {\n    try {\n      // Import the getAnsweredQuestionsMap function dynamically\n      import('../utils/progressStorage').then(({\n        getAnsweredQuestionsMap\n      }) => {\n        const storedAnswers = getAnsweredQuestionsMap();\n        setDetailedAnswers(storedAnswers);\n        console.log('PerformanceDropdown DEBUG:');\n        console.log('- Stored answers from localStorage:', storedAnswers);\n        console.log('- Session answers:', answers);\n        console.log('- Total questions passed:', allQuestions.length);\n        console.log('- Merged answers:', {\n          ...answers,\n          ...storedAnswers\n        });\n        console.log('- Keys in merged:', Object.keys({\n          ...answers,\n          ...storedAnswers\n        }));\n      }).catch(err => {\n        console.error('Failed to load progress storage:', err);\n        setDetailedAnswers({});\n      });\n    } catch (err) {\n      console.error('Error loading stored answers:', err);\n      setDetailedAnswers({});\n    }\n  }, [answers, allQuestions, questionNumber, totalQuestions]);\n\n  // We'll use only detailed answers from localStorage for counting\n  // Session answers are not needed for performance tracking since they're already saved to localStorage\n\n  const [open, setOpen] = React.useState(false);\n  const [catOpen, setCatOpen] = React.useState({});\n  const [domainOpen, setDomainOpen] = React.useState({});\n  const [skillOpen, setSkillOpen] = React.useState({});\n\n  // Helper: get correct/total and color for a set of questions (only answered questions)\n  function getStats(questions) {\n    // SIMPLIFIED LOGIC: Only use detailed answers from localStorage\n    const answeredIds = Object.keys(detailedAnswers);\n    const answered = questions.filter(q => answeredIds.includes(q.id));\n    const correct = answered.filter(q => {\n      const userAnswer = detailedAnswers[q.id]; // Only use detailed answers\n      if (!userAnswer || userAnswer === '__ANSWERED__') return false;\n      const isCorrect = isAnswerCorrect(userAnswer, q.correctAnswer, q.options);\n      return isCorrect;\n    }).length;\n    const total = answered.length;\n    const percent = total > 0 ? correct / total : 0;\n\n    // Debug logging for overall stats\n    if (questions === allQuestions) {\n      console.log('=== SIMPLIFIED getStats DEBUG (Overall) ===');\n      console.log('- Total questions passed to getStats:', questions.length);\n      console.log('- DetailedAnswers from localStorage:', detailedAnswers);\n      console.log('- Answered question IDs:', answeredIds);\n      console.log('- Filtered answered questions:', answered.length);\n      console.log('- Correct answers:', correct);\n      console.log('- Display: ' + correct + '/' + total);\n\n      // Debug each answered question\n      answered.forEach((q, i) => {\n        const userAnswer = detailedAnswers[q.id];\n        const isCorrect = isAnswerCorrect(userAnswer, q.correctAnswer, q.options);\n        console.log(`  ${i + 1}. ${q.id}: \"${userAnswer}\" vs \"${q.correctAnswer}\" = ${isCorrect}`);\n      });\n    }\n    return {\n      correct,\n      total,\n      percent\n    };\n  }\n  function getColor(percent) {\n    // 0% = red, 100% = green, 50% = yellow\n    if (isNaN(percent)) return '#a3a3a3'; // gray for 0/0\n    if (percent === 1) return '#10b981'; // green\n    if (percent === 0) return '#a3a3a3'; // gray for 0/0 (was red)\n    // interpolate between red and green\n    const r = Math.round(239 + (16 - 239) * percent);\n    const g = Math.round(68 + (185 - 68) * percent);\n    const b = Math.round(68 + (129 - 68) * percent);\n    return `rgb(${r},${g},${b})`;\n  }\n\n  // Group by category\n  const categories = Array.from(new Set(allQuestions.map(q => q.category)));\n  const byCategory = {};\n  categories.forEach(cat => {\n    byCategory[cat] = allQuestions.filter(q => q.category === cat);\n  });\n\n  // Group by domain within category\n  const getDomains = cat => {\n    const doms = Array.from(new Set(byCategory[cat].map(q => q.domain)));\n    const byDom = {};\n    doms.forEach(dom => {\n      byDom[dom] = byCategory[cat].filter(q => q.domain === dom);\n    });\n    return byDom;\n  };\n\n  // Group by skill within domain\n  const getSkills = (cat, dom) => {\n    const domQs = byCategory[cat].filter(q => q.domain === dom);\n    const skills = Array.from(new Set(domQs.map(q => q.skill)));\n    const bySkill = {};\n    skills.forEach(skill => {\n      bySkill[skill] = domQs.filter(q => q.skill === skill);\n    });\n    return bySkill;\n  };\n\n  // Overall stats (answered only)\n  const overallStats = getStats(allQuestions);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'inline-block'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      title: `Show Performance`,\n      style: {\n        padding: '10px',\n        borderRadius: 14,\n        width: 44,\n        height: 44,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'none',\n        // No background\n        border: 'none',\n        cursor: 'pointer',\n        position: 'relative',\n        transition: 'all 0.2s'\n      },\n      onClick: () => setOpen(v => !v),\n      \"aria-label\": \"Show Performance\",\n      onMouseEnter: e => {\n        e.currentTarget.style.background = 'rgba(16,185,129,0.08)';\n      },\n      onMouseLeave: e => {\n        e.currentTarget.style.background = 'none';\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"22\",\n        height: \"22\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: \"3\",\n          y: \"13\",\n          width: \"3.5\",\n          height: \"8\",\n          rx: \"1.5\",\n          fill: \"#10b981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: \"8.5\",\n          y: \"9\",\n          width: \"3.5\",\n          height: \"12\",\n          rx: \"1.5\",\n          fill: \"#f59e42\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: \"14\",\n          y: \"5\",\n          width: \"3.5\",\n          height: \"16\",\n          rx: \"1.5\",\n          fill: \"#6366f1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 948,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 54,\n        left: '50%',\n        transform: 'translateX(-50%)',\n        minWidth: 540,\n        width: 'max-content',\n        maxWidth: '90vw',\n        background: '#fff',\n        border: '1.5px solid #e5e7eb',\n        borderRadius: 12,\n        boxShadow: '0 8px 32px rgba(16,24,40,0.12)',\n        zIndex: 10,\n        padding: '14px 20px',\n        // smaller padding\n        textAlign: 'left',\n        animation: 'fadeInScale 0.2s',\n        maxHeight: 420,\n        overflowY: 'auto',\n        overflowX: 'auto',\n        whiteSpace: 'nowrap',\n        fontSize: 13 // smaller default font size\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          color: getColor(overallStats.percent),\n          fontSize: 18,\n          marginBottom: 8\n        },\n        children: \"Performance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 15,\n          marginBottom: 8,\n          color: getColor(overallStats.percent)\n        },\n        children: [overallStats.correct, \" / \", overallStats.total, \" correct\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 11\n      }, this), categories.map(cat => {\n        const catStats = getStats(byCategory[cat]);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: 'none',\n              border: 'none',\n              color: getColor(catStats.percent),\n              fontWeight: 600,\n              fontSize: 15,\n              cursor: 'pointer',\n              padding: 0,\n              marginBottom: 2,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 6\n            },\n            onClick: () => setCatOpen(o => ({\n              ...o,\n              [cat]: !o[cat]\n            })),\n            \"aria-label\": `Toggle ${cat}`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 17\n              },\n              children: cat.charAt(0).toUpperCase() + cat.slice(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 13,\n                marginLeft: 8\n              },\n              children: [catStats.correct, \" / \", catStats.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: 6\n              },\n              children: catOpen[cat] ? '' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 17\n          }, this), catOpen[cat] && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: 16,\n              marginBottom: 4\n            },\n            children: Object.entries(getDomains(cat)).map(([dom, domQs]) => {\n              const domStats = getStats(domQs);\n              const domKey = cat + ':' + dom;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    color: getColor(domStats.percent),\n                    fontWeight: 500,\n                    fontSize: 14,\n                    cursor: 'pointer',\n                    padding: 0,\n                    marginBottom: 1,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 6\n                  },\n                  onClick: () => setDomainOpen(o => ({\n                    ...o,\n                    [domKey]: !o[domKey]\n                  })),\n                  \"aria-label\": `Toggle ${dom}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: dom\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: 12,\n                      marginLeft: 8\n                    },\n                    children: [domStats.correct, \" / \", domStats.total]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1035,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: 6\n                    },\n                    children: domainOpen[domKey] ? '' : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1036,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1027,\n                  columnNumber: 27\n                }, this), domainOpen[domKey] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginLeft: 16,\n                    marginBottom: 2\n                  },\n                  children: Object.entries(getSkills(cat, dom)).map(([skill, skillQs]) => {\n                    const skillStats = getStats(skillQs);\n                    const skillKey = domKey + ':' + skill;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 6,\n                        marginBottom: 2,\n                        fontSize: 12,\n                        color: getColor(skillStats.percent),\n                        fontWeight: 400,\n                        whiteSpace: 'nowrap'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: skill\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1046,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: 10,\n                          marginLeft: 8\n                        },\n                        children: [skillStats.correct, \" / \", skillStats.total]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1047,\n                        columnNumber: 37\n                      }, this)]\n                    }, skillKey, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1045,\n                      columnNumber: 35\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1039,\n                  columnNumber: 29\n                }, this)]\n              }, domKey, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 19\n          }, this)]\n        }, cat, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 977,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 947,\n    columnNumber: 5\n  }, this);\n};\n_s3(PerformanceDropdownButton, \"B4pZPpcjmmDzvdtWaqRuKWTL8CY=\");\n_c3 = PerformanceDropdownButton;\nexport default QuestionDisplay;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"QuestionDisplay\");\n$RefreshReg$(_c2, \"CalculatorModal\");\n$RefreshReg$(_c3, \"PerformanceDropdownButton\");","map":{"version":3,"names":["React","useState","SafeButton","typography","applyTypography","textColors","Casino","VisualElementRenderer","jsxDEV","_jsxDEV","normalizeAnswer","answer","replace","trim","toLowerCase","isAnswerCorrect","selected","correct","options","norm","s","test","correctIdx","indexOf","toUpperCase","selIdx","QuestionDisplay","props","_s","question","onAnswer","selectedAnswer","setSelectedAnswer","onSkip","questionNumber","totalQuestions","onShowQuestionList","balance","onEarn","answers","allQuestions","style","padding","textAlign","background","borderRadius","margin","children","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","Array","isArray","length","fontSize","marginTop","id","localSelected","setLocalSelected","showReference","setShowReference","showCalculator","setShowCalculator","showPlinko","setShowPlinko","imageLoadError","setImageLoadError","showFeedback","setShowFeedback","feedbackData","setFeedbackData","effectiveSelected","handleSelect","option","console","log","handleSkip","handleSubmit","answerToSubmit","isCorrect","correctAnswer","handleNext","handleShowQuestionList","className","position","boxShadow","maxWidth","minHeight","display","flexDirection","alignItems","border","top","right","zIndex","gap","backdropFilter","animation","onClick","title","cursor","width","height","justifyContent","transition","outline","onMouseEnter","e","currentTarget","transform","onMouseLeave","viewBox","fill","xmlns","x","y","rx","stroke","strokeWidth","cx","cy","r","PerformanceDropdownButton","category","opacity","textAnchor","fontWeight","d","strokeLinecap","strokeLinejoin","CalculatorModal","onClose","left","tabIndex","onKeyDown","key","maxHeight","overflow","stopPropagation","heading","md","primary","secondary","sm","body","tertiary","src","alt","onError","error","onLoad","white","ui","button","text","visualElement","backgroundColor","visual","fontStyle","map","index","isUserChoice","showIcon","buttonVariant","variant","disabled","flex","_c","DESMOS_URL","_s2","setPosition","size","setSize","dragging","setDragging","resizing","setResizing","dragStart","setDragStart","resizeStart","setResizeStart","calcRef","useRef","onDragMouseDown","preventDefault","clientX","clientY","useEffect","onMove","onUp","window","addEventListener","removeEventListener","onResizeMouseDown","newWidth","Math","max","newHeight","innerWidth","innerHeight","pos","min","ref","minWidth","userSelect","borderTopLeftRadius","borderTopRightRadius","onMouseDown","accent","lg","allowFullScreen","bottom","points","x1","y1","x2","y2","_c2","_s3","detailedAnswers","setDetailedAnswers","then","getAnsweredQuestionsMap","storedAnswers","Object","keys","catch","err","open","setOpen","catOpen","setCatOpen","domainOpen","setDomainOpen","skillOpen","setSkillOpen","getStats","questions","answeredIds","answered","filter","q","includes","userAnswer","total","percent","forEach","i","getColor","isNaN","round","g","b","categories","from","Set","byCategory","cat","getDomains","doms","domain","byDom","dom","getSkills","domQs","skills","skill","bySkill","overallStats","v","overflowY","overflowX","whiteSpace","catStats","o","charAt","slice","marginLeft","entries","domStats","domKey","skillQs","skillStats","skillKey","_c3","$RefreshReg$"],"sources":["/Users/liamkrass/Documents/satProjectV2/sat-practice-app-1/frontend/src/components/QuestionDisplay.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SafeButton from './SafeButton';\nimport { typography, applyTypography, textColors } from '../styles/typography';\nimport Casino from './Casino';\nimport { VisualElementRenderer } from './VisualElements';\n\ninterface VisualElement {\n    type: 'graph' | 'table' | 'diagram' | 'chart' | 'equation';\n    description: string;\n    data?: any;\n    svg?: string;\n}\n\ninterface Question {\n    id: string;\n    text: string;\n    category: 'math' | 'verbal';\n    skill: string;\n    options: string[];\n    correctAnswer: string;\n    domain?: string;\n    difficulty?: string;\n    source?: string;\n    visual?: string;\n    visualElement?: VisualElement;\n}\n\ninterface QuestionDisplayProps {\n    question: Question;\n    onAnswer: (selectedAnswer: string) => void;\n    answers?: { [id: string]: string };\n    allQuestions?: Question[];\n}\n\n// Helper to normalize answers for comparison (top-level, so it's reused everywhere)\nconst normalizeAnswer = (answer: string) => {\n    if (!answer) return '';\n    return answer.replace(/^[A-D]\\)\\s*/, '').trim().toLowerCase();\n};\n\n// Robust answer checking: matches letter, full option, or text\nconst isAnswerCorrect = (selected: string, correct: string, options: string[]) => {\n    if (!selected || !correct) return false;\n    const norm = (s: string) => s.replace(/^[A-D]\\)?\\s*/, '').trim().toLowerCase();\n    // If correct is a single letter (A/B/C/D), match by index\n    if (/^[A-D]$/i.test(correct.trim())) {\n        const correctIdx = 'ABCD'.indexOf(correct.trim().toUpperCase());\n        if (correctIdx >= 0 && options[correctIdx]) {\n            return norm(selected) === norm(options[correctIdx]) || selected.trim().toUpperCase() === correct.trim().toUpperCase();\n        }\n    }\n    // If selected is a single letter, match by index\n    if (/^[A-D]$/i.test(selected.trim())) {\n        const selIdx = 'ABCD'.indexOf(selected.trim().toUpperCase());\n        if (selIdx >= 0 && options[selIdx]) {\n            return norm(options[selIdx]) === norm(correct) || selected.trim().toUpperCase() === correct.trim().toUpperCase();\n        }\n    }\n    // Otherwise, compare normalized\n    return norm(selected) === norm(correct);\n};\n\nconst QuestionDisplay: React.FC<QuestionDisplayProps & {\n    selectedAnswer?: string;\n    setSelectedAnswer?: (answer: string) => void;\n    onSkip?: () => void;\n    questionNumber?: number;\n    totalQuestions?: number;\n    onShowQuestionList?: () => void;\n    balance?: number;\n    onEarn?: (amount: number) => void;\n}> = (props) => {\n    const { \n        question, \n        onAnswer, \n        selectedAnswer, \n        setSelectedAnswer, \n        onSkip, \n        questionNumber, \n        totalQuestions, \n        onShowQuestionList,\n        balance,\n        onEarn,\n        answers = {},\n        allQuestions = []\n    } = props;\n    \n    // Safety check for question prop\n    if (!question) {\n        return (\n            <div style={{\n                padding: '40px',\n                textAlign: 'center',\n                background: '#fee2e2',\n                borderRadius: '16px',\n                margin: '20px'\n            }}>\n                <h3 style={{ color: '#dc2626', marginBottom: '8px' }}>Error: No Question Data</h3>\n                <p style={{ color: '#7f1d1d' }}>Unable to load question. Please try refreshing the page.</p>\n            </div>\n        );\n    }\n\n    // Safety check for question options\n    if (!question.options || !Array.isArray(question.options) || question.options.length === 0) {\n        return (\n            <div style={{\n                padding: '40px',\n                textAlign: 'center',\n                background: '#fef3c7',\n                borderRadius: '16px',\n                margin: '20px'\n            }}>\n                <h3 style={{ color: '#d97706', marginBottom: '8px' }}>Error: Invalid Question Format</h3>\n                <p style={{ color: '#92400e' }}>Question options are missing or invalid.</p>\n                <p style={{ fontSize: '12px', color: '#451a03', marginTop: '8px' }}>\n                    Question ID: {question.id || 'Unknown'}\n                </p>\n            </div>\n        );\n    }\n    \n    const [localSelected, setLocalSelected] = useState<string>('');\n    const [showReference, setShowReference] = useState(false);\n    const [showCalculator, setShowCalculator] = useState(false);\n    const [showPlinko, setShowPlinko] = useState(false);\n    const [imageLoadError, setImageLoadError] = useState(false);\n    const [showFeedback, setShowFeedback] = useState(false);\n    const [feedbackData, setFeedbackData] = useState<{\n        isCorrect: boolean;\n        selectedAnswer: string;\n        correctAnswer: string;\n    } | null>(null);\n    \n    // Use local state if no external selectedAnswer is provided\n    const effectiveSelected = selectedAnswer || localSelected;\n    \n    // Handle selection - works with both controlled and uncontrolled mode\n    const handleSelect = (option: string) => {\n        console.log('QuestionDisplay: Option selected:', option);\n        if (setSelectedAnswer) {\n            setSelectedAnswer(option);\n        } else {\n            setLocalSelected(option);\n        }\n    };\n    \n    // Fallback for onSkip if not provided\n    const handleSkip = () => {\n        console.log('QuestionDisplay: Skip button clicked');\n        if (onSkip) onSkip();\n    };\n    \n    // Fallback for onAnswer if not provided\n    const handleSubmit = () => {\n        const answerToSubmit = selectedAnswer || localSelected;\n        if (answerToSubmit && question) {\n            const isCorrect = isAnswerCorrect(answerToSubmit, question.correctAnswer, question.options);\n            setFeedbackData({\n                isCorrect,\n                selectedAnswer: answerToSubmit,\n                correctAnswer: question.correctAnswer\n            });\n            setShowFeedback(true);\n        }\n    };\n\n    const handleNext = () => {\n        if (feedbackData && onAnswer) {\n            onAnswer(feedbackData.selectedAnswer);\n        }\n        setShowFeedback(false);\n        setFeedbackData(null);\n        // Reset local selection for next question\n        setLocalSelected('');\n    };\n    \n    // Fallback for onShowQuestionList if not provided\n    const handleShowQuestionList = () => {\n        console.log('QuestionDisplay: Jump to question button clicked');\n        if (onShowQuestionList) onShowQuestionList();\n    };\n    return (\n        <div className=\"question-display modern-question\" style={{\n            position: 'relative',\n            background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)',\n            borderRadius: 28,\n            boxShadow: '0 8px 32px rgba(60,72,100,0.13)',\n            padding: '56px 28px 36px 28px',\n            maxWidth: 520,\n            margin: '64px auto',\n            minHeight: 440,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            border: '1.5px solid #e5e7eb',\n        }}>\n            {/* Top right icon bar - always visible */}\n            <div style={{ \n                position: 'absolute', \n                top: 20, \n                right: 20, \n                zIndex: 2,\n                display: 'flex',\n                gap: 6,\n                background: 'rgba(255, 255, 255, 0.98)',\n                backdropFilter: 'blur(12px)',\n                borderRadius: 20,\n                padding: '6px',\n                border: '1.5px solid #e5e7eb',\n                boxShadow: '0 6px 24px rgba(60,72,100,0.12)',\n                animation: 'fadeInScale 0.3s ease-out'\n            }}>\n                {/* Jump to Question */}\n                <button\n                    onClick={handleShowQuestionList}\n                    title=\"Jump to Question\"\n                    style={{ \n                        background: 'none', \n                        border: 'none', \n                        cursor: 'pointer', \n                        padding: '10px', \n                        borderRadius: 14, \n                        width: 44, \n                        height: 44, \n                        display: 'flex', \n                        alignItems: 'center', \n                        justifyContent: 'center', \n                        transition: 'all 0.2s ease',\n                        outline: 'none'\n                    }}\n                    onMouseEnter={(e) => {\n                        e.currentTarget.style.background = 'rgba(99, 102, 241, 0.1)';\n                        e.currentTarget.style.transform = 'scale(1.05)';\n                    }}\n                    onMouseLeave={(e) => {\n                        e.currentTarget.style.background = 'none';\n                        e.currentTarget.style.transform = 'scale(1)';\n                    }}\n                    aria-label=\"Jump to Question\"\n                >\n                    <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        {/* Modern Navigation Grid */}\n                        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"4\" stroke=\"#6366f1\" strokeWidth=\"2\" fill=\"none\"/>\n                        <rect x=\"6\" y=\"6\" width=\"4\" height=\"4\" rx=\"1\" fill=\"#6366f1\"/>\n                        <rect x=\"14\" y=\"6\" width=\"4\" height=\"4\" rx=\"1\" fill=\"#6366f1\"/>\n                        <rect x=\"6\" y=\"14\" width=\"4\" height=\"4\" rx=\"1\" fill=\"#6366f1\"/>\n                        <rect x=\"14\" y=\"14\" width=\"4\" height=\"4\" rx=\"1\" fill=\"#6366f1\"/>\n                        <circle cx=\"12\" cy=\"12\" r=\"1.5\" fill=\"#6366f1\"/>\n                    </svg>\n                </button>\n\n                {/* Progress Indicator replaced with Performance Dropdown Button */}\n                <PerformanceDropdownButton \n                    answers={answers} \n                    allQuestions={allQuestions} \n                    questionNumber={questionNumber || 1} \n                    totalQuestions={totalQuestions || 1} \n                />\n\n                {/* Calculator - Only show for math questions */}\n                {question.category === 'math' && (\n                    <button\n                        onClick={() => setShowCalculator(true)}\n                        title=\"Calculator\"\n                        style={{ \n                            background: showCalculator ? 'rgba(245, 158, 66, 0.15)' : 'none', \n                            border: 'none', \n                            cursor: 'pointer', \n                            padding: '10px', \n                            borderRadius: 14, \n                            width: 44, \n                            height: 44, \n                            display: 'flex', \n                            alignItems: 'center', \n                            justifyContent: 'center', \n                            transition: 'all 0.2s ease',\n                            outline: 'none'\n                        }}\n                        onMouseEnter={(e) => {\n                            e.currentTarget.style.background = 'rgba(245, 158, 66, 0.15)';\n                            e.currentTarget.style.transform = 'scale(1.05)';\n                        }}\n                        onMouseLeave={(e) => {\n                            e.currentTarget.style.background = showCalculator ? 'rgba(245, 158, 66, 0.15)' : 'none';\n                            e.currentTarget.style.transform = 'scale(1)';\n                        }}\n                        aria-label=\"Calculator\"\n                    >\n                        <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            {/* Modern Calculator Design */}\n                            <rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"3\" stroke=\"#f59e42\" strokeWidth=\"2\" fill=\"none\"/>\n                            <rect x=\"7\" y=\"5\" width=\"10\" height=\"4\" rx=\"1\" fill=\"#f59e42\" opacity=\"0.2\"/>\n                            <text x=\"12\" y=\"8\" fontSize=\"6\" fill=\"#f59e42\" textAnchor=\"middle\" fontWeight=\"bold\">123</text>\n                            <rect x=\"7\" y=\"11\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                            <rect x=\"10.75\" y=\"11\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                            <rect x=\"14.5\" y=\"11\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                            <rect x=\"7\" y=\"15\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                            <rect x=\"10.75\" y=\"15\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                            <rect x=\"14.5\" y=\"15\" width=\"2.5\" height=\"2.5\" rx=\"0.5\" fill=\"#f59e42\"/>\n                        </svg>\n                    </button>\n                )}\n\n                {/* Reference Sheet - Only show for math questions */}\n                {question.category === 'math' && (\n                    <button\n                        onClick={() => setShowReference(true)}\n                        title=\"Reference Sheet\"\n                        style={{ \n                            background: showReference ? 'rgba(245, 158, 66, 0.15)' : 'none', \n                            border: 'none', \n                            cursor: 'pointer', \n                            padding: '10px', \n                            borderRadius: 14, \n                            width: 44, \n                            height: 44, \n                            display: 'flex', \n                            alignItems: 'center', \n                            justifyContent: 'center', \n                            transition: 'all 0.2s ease',\n                            outline: 'none'\n                        }}\n                        onMouseEnter={(e) => {\n                            e.currentTarget.style.background = 'rgba(245, 158, 66, 0.15)';\n                            e.currentTarget.style.transform = 'scale(1.05)';\n                        }}\n                        onMouseLeave={(e) => {\n                            e.currentTarget.style.background = showReference ? 'rgba(245, 158, 66, 0.15)' : 'none';\n                            e.currentTarget.style.transform = 'scale(1)';\n                        }}\n                        aria-label=\"Reference Sheet\"\n                    >\n                        <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            {/* Modern Reference Sheet */}\n                            <rect x=\"4\" y=\"3\" width=\"16\" height=\"18\" rx=\"2\" stroke=\"#f59e42\" strokeWidth=\"2\" fill=\"none\"/>\n                            <path d=\"M4 8H20\" stroke=\"#f59e42\" strokeWidth=\"1.5\"/>\n                            <rect x=\"7\" y=\"5\" width=\"4\" height=\"1.5\" rx=\"0.75\" fill=\"#f59e42\"/>\n                            <rect x=\"13\" y=\"5\" width=\"4\" height=\"1.5\" rx=\"0.75\" fill=\"#f59e42\"/>\n                            <rect x=\"7\" y=\"11\" width=\"10\" height=\"1\" rx=\"0.5\" fill=\"#f59e42\" opacity=\"0.6\"/>\n                            <rect x=\"7\" y=\"13.5\" width=\"8\" height=\"1\" rx=\"0.5\" fill=\"#f59e42\" opacity=\"0.6\"/>\n                            <rect x=\"7\" y=\"16\" width=\"6\" height=\"1\" rx=\"0.5\" fill=\"#f59e42\" opacity=\"0.6\"/>\n                            <circle cx=\"17\" cy=\"16\" r=\"1.5\" fill=\"#f59e42\"/>\n                            <path d=\"M16 16L17 17L18.5 15\" stroke=\"white\" strokeWidth=\"1\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                        </svg>\n                    </button>\n                )}\n\n                {/* Casino */}\n                <button\n                    onClick={() => setShowPlinko(true)}\n                    title=\"Open Casino\"\n                    style={{ \n                        background: showPlinko ? 'rgba(139, 92, 246, 0.15)' : 'none', \n                        border: 'none', \n                        cursor: 'pointer', \n                        padding: '10px', \n                        borderRadius: 14, \n                        width: 44, \n                        height: 44, \n                        display: 'flex', \n                        alignItems: 'center', \n                        justifyContent: 'center', \n                        transition: 'all 0.2s ease',\n                        outline: 'none'\n                    }}\n                    onMouseEnter={(e) => {\n                        e.currentTarget.style.background = 'rgba(139, 92, 246, 0.15)';\n                        e.currentTarget.style.transform = 'scale(1.05)';\n                    }}\n                    onMouseLeave={(e) => {\n                        e.currentTarget.style.background = showPlinko ? 'rgba(139, 92, 246, 0.15)' : 'none';\n                        e.currentTarget.style.transform = 'scale(1)';\n                    }}\n                    aria-label=\"Open Casino\"\n                >\n                    <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        {/* Modern Casino Chip */}\n                        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#8b5cf6\" stroke=\"#7c3aed\" strokeWidth=\"2\"/>\n                        <circle cx=\"12\" cy=\"12\" r=\"6\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\"/>\n                        <circle cx=\"12\" cy=\"12\" r=\"2\" fill=\"white\"/>\n                        \n                        {/* Chip edge details */}\n                        <circle cx=\"6\" cy=\"12\" r=\"1\" fill=\"white\" opacity=\"0.8\"/>\n                        <circle cx=\"18\" cy=\"12\" r=\"1\" fill=\"white\" opacity=\"0.8\"/>\n                        <circle cx=\"12\" cy=\"6\" r=\"1\" fill=\"white\" opacity=\"0.8\"/>\n                        <circle cx=\"12\" cy=\"18\" r=\"1\" fill=\"white\" opacity=\"0.8\"/>\n                        \n                        {/* Dollar symbol */}\n                        <text x=\"12\" y=\"16\" fontSize=\"6\" fill=\"white\" textAnchor=\"middle\" fontWeight=\"bold\">$</text>\n                    </svg>\n                </button>\n            </div>\n            {/* Calculator window (persistent, draggable, resizable) - Only for math questions */}\n            {question.category === 'math' && (\n                <div style={{ position: 'fixed', zIndex: 1000 }}>\n                    {showCalculator && <CalculatorModal onClose={() => setShowCalculator(false)} />}\n                </div>\n            )}\n            {/* Reference sheet modal - Only for math questions */}\n            {question.category === 'math' && showReference && (\n                <div\n                    style={{ \n                        position: 'fixed', \n                        top: 0, \n                        left: 0, \n                        width: '100vw', \n                        height: '100vh', \n                        background: 'rgba(30,41,59,0.25)', \n                        zIndex: 1500,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        backdropFilter: 'blur(8px)',\n                        animation: 'fadeInScale 0.3s ease-out'\n                    }}\n                    onClick={() => {\n                        setShowReference(false);\n                    }}\n                    tabIndex={0}\n                    onKeyDown={e => { \n                        if (e.key === 'Escape') {\n                            setShowReference(false);\n                        }\n                    }}\n                >\n                    <div\n                        style={{ \n                            background: '#fff', \n                            borderRadius: 20, \n                            boxShadow: '0 12px 40px rgba(60,72,100,0.25)', \n                            padding: '24px', \n                            maxWidth: '95vw', \n                            maxHeight: '95vh', \n                            overflow: 'auto',\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                            border: '1px solid #e5e7eb'\n                        }}\n                        onClick={e => e.stopPropagation()}\n                    >\n                        <h3 style={{\n                            ...applyTypography(typography.heading.md),\n                            color: textColors.primary,\n                            marginBottom: 20,\n                            textAlign: 'center'\n                        }}>\n                            SAT Reference Sheet\n                        </h3>\n                        \n                        <div style={{\n                            borderRadius: 16,\n                            overflow: 'hidden',\n                            boxShadow: '0 4px 20px rgba(60,72,100,0.15)',\n                            marginBottom: 24,\n                            border: '2px solid #f3f4f6',\n                            minHeight: imageLoadError ? '300px' : 'auto',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            background: imageLoadError ? '#f8fafc' : 'transparent'\n                        }}>\n                            {imageLoadError ? (\n                                <div style={{\n                                    textAlign: 'center',\n                                    padding: '40px',\n                                    color: textColors.secondary\n                                }}>\n                                    <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ marginBottom: '16px' }}>\n                                        <rect x=\"4\" y=\"3\" width=\"16\" height=\"18\" rx=\"3\"/>\n                                        <path d=\"M8 7h8M8 11h8M8 15h4\"/>\n                                    </svg>\n                                    <h4 style={{ \n                                        ...applyTypography(typography.heading.sm),\n                                        color: textColors.primary,\n                                        marginBottom: 8\n                                    }}>\n                                        SAT Reference Sheet\n                                    </h4>\n                                    <p style={{\n                                        ...applyTypography(typography.body.sm),\n                                        color: textColors.secondary,\n                                        marginBottom: 16\n                                    }}>\n                                        Reference sheet image not available.<br />\n                                        Please refer to your official SAT materials.\n                                    </p>\n                                    <div style={{\n                                        background: '#f3f4f6',\n                                        borderRadius: 8,\n                                        padding: '12px',\n                                        ...applyTypography(typography.body.sm),\n                                        color: textColors.tertiary,\n                                        fontSize: '12px'\n                                    }}>\n                                        Common formulas include: Area, Volume, Pythagorean Theorem, and Trigonometric ratios\n                                    </div>\n                                </div>\n                            ) : (\n                                <img \n                                    src={'/satReferenceSheet.jpg'} \n                                    alt=\"SAT Reference Sheet\" \n                                    style={{ \n                                        maxWidth: '85vw', \n                                        maxHeight: '70vh', \n                                        width: 'auto',\n                                        height: 'auto',\n                                        display: 'block'\n                                    }} \n                                    onError={(e) => {\n                                        console.error('Failed to load reference sheet image');\n                                        setImageLoadError(true);\n                                    }}\n                                    onLoad={() => {\n                                        setImageLoadError(false);\n                                    }}\n                                />\n                            )}\n                        </div>\n                        \n                        <button\n                            onClick={() => setShowReference(false)}\n                            style={{ \n                                background: 'linear-gradient(90deg, #6366f1 0%, #818cf8 100%)',\n                                color: textColors.white, \n                                border: 'none', \n                                borderRadius: 12, \n                                padding: '12px 32px', \n                                cursor: 'pointer', \n                                boxShadow: '0 4px 16px rgba(99, 102, 241, 0.25)',\n                                transition: 'all 0.2s ease',\n                                ...applyTypography(typography.ui.button.md)\n                            }}\n                            onMouseEnter={(e) => {\n                                e.currentTarget.style.transform = 'translateY(-2px)';\n                                e.currentTarget.style.boxShadow = '0 6px 20px rgba(99, 102, 241, 0.35)';\n                            }}\n                            onMouseLeave={(e) => {\n                                e.currentTarget.style.transform = 'translateY(0)';\n                                e.currentTarget.style.boxShadow = '0 4px 16px rgba(99, 102, 241, 0.25)';\n                            }}\n                        >\n                            Close Reference Sheet\n                        </button>\n                    </div>\n                </div>\n            )}\n            \n            {/* Casino Modal */}\n            {showPlinko && (\n                <Casino \n                    onClose={() => setShowPlinko(false)} \n                    balance={balance || 0}\n                    onEarn={onEarn || (() => {})}\n                />\n            )}\n            \n            <h2 className=\"modern-question-title\" style={{\n                ...applyTypography(typography.question.title),\n                marginTop: 28,\n                marginBottom: 22,\n                textAlign: 'center',\n            }}>{question.text}</h2>\n            \n            {/* Render visual element if present */}\n            {question.visualElement && (\n                <div style={{ \n                    marginBottom: 24, \n                    display: 'flex', \n                    justifyContent: 'center',\n                    padding: '16px',\n                    backgroundColor: '#f8f9fa',\n                    borderRadius: '8px',\n                    border: '1px solid #e9ecef'\n                }}>\n                    <VisualElementRenderer \n                        visual={question.visualElement} \n                        className=\"question-visual\"\n                    />\n                </div>\n            )}\n            \n            {/* Show visual description if no visual element but has description */}\n            {question.visual && !question.visualElement && question.visual !== 'None' && (\n                <div style={{\n                    marginBottom: 24,\n                    padding: '12px 16px',\n                    backgroundColor: '#f0f8ff',\n                    borderRadius: '6px',\n                    border: '1px solid #cce7ff',\n                    fontSize: '14px',\n                    fontStyle: 'italic',\n                    color: '#2c5aa0',\n                    textAlign: 'center'\n                }}>\n                    {question.visual}\n                </div>\n            )}\n            \n            <div className=\"options modern-options\" style={{ width: '100%', display: 'flex', flexDirection: 'column', gap: 14, marginBottom: 18 }}>\n                {question.options.map((option, index) => {\n                    let isCorrect = false;\n                    let isUserChoice = false;\n                    let showIcon = false;\n                    let buttonVariant: any = normalizeAnswer(effectiveSelected) === normalizeAnswer(option) ? 'selected' : 'option';\n\n                    if (showFeedback && feedbackData) {\n                        isCorrect = isAnswerCorrect(option, question.correctAnswer, question.options);\n                        isUserChoice = isAnswerCorrect(option, feedbackData.selectedAnswer, question.options);\n                        showIcon = isCorrect || isUserChoice;\n                        if (isCorrect) {\n                            buttonVariant = 'success';\n                        } else if (isUserChoice && !isCorrect) {\n                            buttonVariant = 'primary';\n                        } else {\n                            buttonVariant = 'option';\n                        }\n                    }\n\n                    return (\n                        <div key={index} style={{ position: 'relative' }}>\n                            <SafeButton\n                                onClick={() => !showFeedback && handleSelect(option)}\n                                variant={buttonVariant}\n                                disabled={showFeedback}\n                            >\n                                {option}\n                            </SafeButton>\n                            {showFeedback && feedbackData && (isCorrect || isUserChoice) && (\n                                <div style={{\n                                    position: 'absolute',\n                                    right: '16px',\n                                    top: '50%',\n                                    transform: 'translateY(-50%)',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    width: '28px',\n                                    height: '28px',\n                                    borderRadius: '50%',\n                                    background: isCorrect ? '#10b981' : '#ef4444',\n                                    zIndex: 2\n                                }}>\n                                    {isCorrect ? (\n                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M8 12L11 15L16 9\" stroke=\"white\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                        </svg>\n                                    ) : (\n                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M8 8L16 16M16 8L8 16\" stroke=\"white\" strokeWidth=\"2.5\" strokeLinecap=\"round\"/>\n                                        </svg>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n            <div style={{ display: 'flex', gap: 14, marginTop: 12, justifyContent: 'center', width: '100%' }}>\n                <SafeButton\n                    onClick={handleSkip}\n                    variant=\"secondary\"\n                    style={{ flex: 1, maxWidth: 150 }}\n                    disabled={showFeedback}\n                >\n                    Skip\n                </SafeButton>\n                <SafeButton\n                    onClick={showFeedback ? handleNext : handleSubmit}\n                    variant=\"primary\"\n                    disabled={!showFeedback && !effectiveSelected}\n                    style={{ flex: 1, maxWidth: 150 }}\n                >\n                    {showFeedback ? 'Next' : 'Submit'}\n                </SafeButton>\n            </div>\n        </div>\n    );\n};\n\n// Calculator modal (persistent, draggable, resizable)\nconst DESMOS_URL = \"https://www.desmos.com/testing/cb-sat-ap/graphing\";\nconst CalculatorModal: React.FC<{ onClose: () => void }> = ({ onClose }) => {\n    const [position, setPosition] = useState({ x: 80, y: 80 });\n    const [size, setSize] = useState({ width: 400, height: 500 });\n    const [dragging, setDragging] = useState(false);\n    const [resizing, setResizing] = useState(false);\n    const [dragStart, setDragStart] = useState<{ x: number; y: number } | null>(null);\n    const [resizeStart, setResizeStart] = useState<{ x: number; y: number; width: number; height: number } | null>(null);\n    const calcRef = React.useRef<HTMLDivElement>(null);\n\n    // Drag handlers\n    const onDragMouseDown = (e: React.MouseEvent) => {\n        e.preventDefault();\n        setDragging(true);\n        setDragStart({ x: e.clientX - position.x, y: e.clientY - position.y });\n    };\n    React.useEffect(() => {\n        if (!dragging) return;\n        const onMove = (e: MouseEvent) => {\n            setPosition({ x: e.clientX - (dragStart?.x || 0), y: e.clientY - (dragStart?.y || 0) });\n        };\n        const onUp = () => setDragging(false);\n        window.addEventListener('mousemove', onMove);\n        window.addEventListener('mouseup', onUp);\n        return () => {\n            window.removeEventListener('mousemove', onMove);\n            window.removeEventListener('mouseup', onUp);\n        };\n    }, [dragging, dragStart]);\n\n    // Resize handlers\n    const onResizeMouseDown = (e: React.MouseEvent) => {\n        e.preventDefault();\n        setResizing(true);\n        setResizeStart({ x: e.clientX, y: e.clientY, width: size.width, height: size.height });\n    };\n    React.useEffect(() => {\n        if (!resizing) return;\n        const onMove = (e: MouseEvent) => {\n            if (!resizeStart) return;\n            const newWidth = Math.max(300, resizeStart.width + (e.clientX - resizeStart.x));\n            const newHeight = Math.max(300, resizeStart.height + (e.clientY - resizeStart.y));\n            setSize({ width: newWidth, height: newHeight });\n        };\n        const onUp = () => setResizing(false);\n        window.addEventListener('mousemove', onMove);\n        window.addEventListener('mouseup', onUp);\n        return () => {\n            window.removeEventListener('mousemove', onMove);\n            window.removeEventListener('mouseup', onUp);\n        };\n    }, [resizing, resizeStart]);\n\n    // Keep calculator in viewport\n    React.useEffect(() => {\n        const { innerWidth, innerHeight } = window;\n        setPosition(pos => ({\n            x: Math.max(0, Math.min(pos.x, innerWidth - size.width)),\n            y: Math.max(0, Math.min(pos.y, innerHeight - size.height)),\n        }));\n        // eslint-disable-next-line\n    }, [size.width, size.height]);\n\n    return (\n        <div\n            ref={calcRef}\n            style={{\n                position: 'fixed',\n                top: position.y,\n                left: position.x,\n                background: '#fff',\n                border: '1.5px solid #e5e7eb',\n                borderRadius: 8,\n                boxShadow: '0 2px 16px rgba(0,0,0,0.13)',\n                zIndex: 1000,\n                width: size.width,\n                height: size.height,\n                padding: 0,\n                minWidth: 300,\n                minHeight: 300,\n                maxWidth: '95vw',\n                maxHeight: '95vh',\n                userSelect: dragging || resizing ? 'none' : 'auto',\n            }}\n        >\n            {/* Drag bar */}\n            <div\n                style={{ \n                    cursor: 'move', \n                    background: '#f3f4f6', \n                    borderTopLeftRadius: 8, \n                    borderTopRightRadius: 8, \n                    padding: 8, \n                    display: 'flex', \n                    justifyContent: 'space-between', \n                    alignItems: 'center' \n                }}\n                onMouseDown={onDragMouseDown}\n            >\n                <span style={{ \n                    color: textColors.accent, \n                    ...applyTypography(typography.ui.button.md)\n                }}>SAT Calculator</span>\n                <button \n                    onClick={onClose} \n                    style={{ \n                        background: 'none', \n                        border: 'none', \n                        color: textColors.accent, \n                        cursor: 'pointer',\n                        ...applyTypography(typography.ui.button.lg),\n                        fontSize: '20px',\n                        fontWeight: 700,\n                    }} \n                    aria-label=\"Close Calculator\"\n                ></button>\n            </div>\n            <iframe\n                src={DESMOS_URL}\n                title=\"SAT Calculator\"\n                style={{ width: '100%', height: size.height - 40, border: 'none', borderRadius: 8 }}\n                allowFullScreen\n            />\n            {/* Resize handle */}\n            <div\n                style={{\n                    position: 'absolute',\n                    right: 0,\n                    bottom: 0,\n                    width: 24,\n                    height: 24,\n                    cursor: 'nwse-resize',\n                    zIndex: 2,\n                    background: 'transparent',\n                    display: 'flex',\n                    alignItems: 'flex-end',\n                    justifyContent: 'flex-end',\n                }}\n                onMouseDown={onResizeMouseDown}\n            >\n                <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#6366f1\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"16 20 20 20 20 16\"/><line x1=\"14\" y1=\"20\" x2=\"20\" y2=\"14\"/></svg>\n            </div>\n        </div>\n    );\n};\n\n// Performance Dropdown Button component\nconst PerformanceDropdownButton: React.FC<{\n  answers: { [id: string]: string };\n  allQuestions: any[];\n  questionNumber: number;\n  totalQuestions: number;\n}> = ({ answers, allQuestions, questionNumber, totalQuestions }) => {\n  // Import the progress storage functions\n  const [detailedAnswers, setDetailedAnswers] = React.useState<{ [id: string]: string }>({});\n  \n  React.useEffect(() => {\n    try {\n      // Import the getAnsweredQuestionsMap function dynamically\n      import('../utils/progressStorage').then(({ getAnsweredQuestionsMap }) => {\n        const storedAnswers = getAnsweredQuestionsMap();\n        setDetailedAnswers(storedAnswers);\n        console.log('PerformanceDropdown DEBUG:');\n        console.log('- Stored answers from localStorage:', storedAnswers);\n        console.log('- Session answers:', answers);\n        console.log('- Total questions passed:', allQuestions.length);\n        console.log('- Merged answers:', { ...answers, ...storedAnswers });\n        console.log('- Keys in merged:', Object.keys({ ...answers, ...storedAnswers }));\n      }).catch(err => {\n        console.error('Failed to load progress storage:', err);\n        setDetailedAnswers({});\n      });\n    } catch (err) {\n      console.error('Error loading stored answers:', err);\n      setDetailedAnswers({});\n    }\n  }, [answers, allQuestions, questionNumber, totalQuestions]);\n\n  // We'll use only detailed answers from localStorage for counting\n  // Session answers are not needed for performance tracking since they're already saved to localStorage\n\n  const [open, setOpen] = React.useState(false);\n  const [catOpen, setCatOpen] = React.useState<{ [cat: string]: boolean }>({});\n  const [domainOpen, setDomainOpen] = React.useState<{ [key: string]: boolean }>({});\n  const [skillOpen, setSkillOpen] = React.useState<{ [key: string]: boolean }>({});\n\n  // Helper: get correct/total and color for a set of questions (only answered questions)\n  function getStats(questions: any[]) {\n    // SIMPLIFIED LOGIC: Only use detailed answers from localStorage\n    const answeredIds = Object.keys(detailedAnswers);\n    const answered = questions.filter(q => answeredIds.includes(q.id));\n    const correct = answered.filter(q => {\n      const userAnswer = detailedAnswers[q.id]; // Only use detailed answers\n      if (!userAnswer || userAnswer === '__ANSWERED__') return false;\n      const isCorrect = isAnswerCorrect(userAnswer, q.correctAnswer, q.options);\n      return isCorrect;\n    }).length;\n    const total = answered.length;\n    const percent = total > 0 ? correct / total : 0;\n    \n    // Debug logging for overall stats\n    if (questions === allQuestions) {\n      console.log('=== SIMPLIFIED getStats DEBUG (Overall) ===');\n      console.log('- Total questions passed to getStats:', questions.length);\n      console.log('- DetailedAnswers from localStorage:', detailedAnswers);\n      console.log('- Answered question IDs:', answeredIds);\n      console.log('- Filtered answered questions:', answered.length);\n      console.log('- Correct answers:', correct);\n      console.log('- Display: ' + correct + '/' + total);\n      \n      // Debug each answered question\n      answered.forEach((q, i) => {\n        const userAnswer = detailedAnswers[q.id];\n        const isCorrect = isAnswerCorrect(userAnswer, q.correctAnswer, q.options);\n        console.log(`  ${i+1}. ${q.id}: \"${userAnswer}\" vs \"${q.correctAnswer}\" = ${isCorrect}`);\n      });\n    }\n    \n    return { correct, total, percent };\n  }\n  function getColor(percent: number) {\n    // 0% = red, 100% = green, 50% = yellow\n    if (isNaN(percent)) return '#a3a3a3'; // gray for 0/0\n    if (percent === 1) return '#10b981'; // green\n    if (percent === 0) return '#a3a3a3'; // gray for 0/0 (was red)\n    // interpolate between red and green\n    const r = Math.round(239 + (16-239)*percent);\n    const g = Math.round(68 + (185-68)*percent);\n    const b = Math.round(68 + (129-68)*percent);\n    return `rgb(${r},${g},${b})`;\n  }\n\n  // Group by category\n  const categories = Array.from(new Set(allQuestions.map(q => q.category)));\n  const byCategory: { [cat: string]: any[] } = {};\n  categories.forEach(cat => {\n    byCategory[cat] = allQuestions.filter(q => q.category === cat);\n  });\n\n  // Group by domain within category\n  const getDomains = (cat: string) => {\n    const doms = Array.from(new Set(byCategory[cat].map(q => q.domain)));\n    const byDom: { [dom: string]: any[] } = {};\n    doms.forEach(dom => {\n      byDom[dom] = byCategory[cat].filter(q => q.domain === dom);\n    });\n    return byDom;\n  };\n\n  // Group by skill within domain\n  const getSkills = (cat: string, dom: string) => {\n    const domQs = byCategory[cat].filter(q => q.domain === dom);\n    const skills = Array.from(new Set(domQs.map(q => q.skill)));\n    const bySkill: { [skill: string]: any[] } = {};\n    skills.forEach(skill => {\n      bySkill[skill] = domQs.filter(q => q.skill === skill);\n    });\n    return bySkill;\n  };\n\n  // Overall stats (answered only)\n  const overallStats = getStats(allQuestions);\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      <button\n        title={`Show Performance`}\n        style={{\n          padding: '10px',\n          borderRadius: 14,\n          width: 44,\n          height: 44,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          background: 'none', // No background\n          border: 'none',\n          cursor: 'pointer',\n          position: 'relative',\n          transition: 'all 0.2s',\n        }}\n        onClick={() => setOpen(v => !v)}\n        aria-label=\"Show Performance\"\n        onMouseEnter={e => { e.currentTarget.style.background = 'rgba(16,185,129,0.08)'; }}\n        onMouseLeave={e => { e.currentTarget.style.background = 'none'; }}\n      >\n        {/* Bar chart icon for stats/performance */}\n        <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect x=\"3\" y=\"13\" width=\"3.5\" height=\"8\" rx=\"1.5\" fill=\"#10b981\"/>\n          <rect x=\"8.5\" y=\"9\" width=\"3.5\" height=\"12\" rx=\"1.5\" fill=\"#f59e42\"/>\n          <rect x=\"14\" y=\"5\" width=\"3.5\" height=\"16\" rx=\"1.5\" fill=\"#6366f1\"/>\n        </svg>\n      </button>\n      {open && (\n        <div style={{\n          position: 'absolute',\n          top: 54,\n          left: '50%',\n          transform: 'translateX(-50%)',\n          minWidth: 540,\n          width: 'max-content',\n          maxWidth: '90vw',\n          background: '#fff',\n          border: '1.5px solid #e5e7eb',\n          borderRadius: 12,\n          boxShadow: '0 8px 32px rgba(16,24,40,0.12)',\n          zIndex: 10,\n          padding: '14px 20px', // smaller padding\n          textAlign: 'left',\n          animation: 'fadeInScale 0.2s',\n          maxHeight: 420,\n          overflowY: 'auto',\n          overflowX: 'auto',\n          whiteSpace: 'nowrap',\n          fontSize: 13 // smaller default font size\n        }}>\n          <div style={{ fontWeight: 700, color: getColor(overallStats.percent), fontSize: 18, marginBottom: 8 }}>Performance</div>\n          <div style={{ fontSize: 15, marginBottom: 8, color: getColor(overallStats.percent) }}>\n            {overallStats.correct} / {overallStats.total} correct\n          </div>\n          {/* Category Level */}\n          {categories.map(cat => {\n            const catStats = getStats(byCategory[cat]);\n            return (\n              <div key={cat}>\n                <button\n                  style={{\n                    background: 'none', border: 'none', color: getColor(catStats.percent), fontWeight: 600, fontSize: 15, cursor: 'pointer', padding: 0, marginBottom: 2, display: 'flex', alignItems: 'center', gap: 6\n                  }}\n                  onClick={() => setCatOpen(o => ({ ...o, [cat]: !o[cat] }))}\n                  aria-label={`Toggle ${cat}`}\n                >\n                  <span style={{ fontSize: 17 }}>{cat.charAt(0).toUpperCase() + cat.slice(1)}</span>\n                  <span style={{ fontSize: 13, marginLeft: 8 }}>{catStats.correct} / {catStats.total}</span>\n                  <span style={{ marginLeft: 6 }}>{catOpen[cat] ? '' : ''}</span>\n                </button>\n                {catOpen[cat] && (\n                  <div style={{ marginLeft: 16, marginBottom: 4 }}>\n                    {/* Domain Level */}\n                    {Object.entries(getDomains(cat)).map(([dom, domQs]) => {\n                      const domStats = getStats(domQs);\n                      const domKey = cat + ':' + dom;\n                      return (\n                        <div key={domKey}>\n                          <button\n                            style={{\n                              background: 'none', border: 'none', color: getColor(domStats.percent), fontWeight: 500, fontSize: 14, cursor: 'pointer', padding: 0, marginBottom: 1, display: 'flex', alignItems: 'center', gap: 6\n                            }}\n                            onClick={() => setDomainOpen(o => ({ ...o, [domKey]: !o[domKey] }))}\n                            aria-label={`Toggle ${dom}`}\n                          >\n                            <span>{dom}</span>\n                            <span style={{ fontSize: 12, marginLeft: 8 }}>{domStats.correct} / {domStats.total}</span>\n                            <span style={{ marginLeft: 6 }}>{domainOpen[domKey] ? '' : ''}</span>\n                          </button>\n                          {domainOpen[domKey] && (\n                            <div style={{ marginLeft: 16, marginBottom: 2 }}>\n                              {/* Skill Level */}\n                              {Object.entries(getSkills(cat, dom)).map(([skill, skillQs]) => {\n                                const skillStats = getStats(skillQs);\n                                const skillKey = domKey + ':' + skill;\n                                return (\n                                  <div key={skillKey} style={{ display: 'flex', alignItems: 'center', gap: 6, marginBottom: 2, fontSize: 12, color: getColor(skillStats.percent), fontWeight: 400, whiteSpace: 'nowrap' }}>\n                                    <span>{skill}</span>\n                                    <span style={{ fontSize: 10, marginLeft: 8 }}>{skillStats.correct} / {skillStats.total}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QuestionDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}